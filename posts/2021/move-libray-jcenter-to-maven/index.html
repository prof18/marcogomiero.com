<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Migrating old artifacts from JCenter to MavenCentral - Marco Gomiero</title><meta name=Description content="Software Engineer · Google Developer Expert for Kotlin"><meta property="og:title" content="Migrating old artifacts from JCenter to MavenCentral"><meta property="og:description" content="As you may have heard, JCenter is shutting down in May 2021.
 Into the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter
https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/
 So, if you are using JCenter as the repository for your libraries (as me), it’s time to migrate.
In this article, I will not go through the publishing process of a library to MavenCentral, because there are already plenty of resources available. For example, I followed the one written by Márton Braun."><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-02-11T00:00:00+00:00"><meta property="article:modified_time" content="2021-02-11T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Migrating old artifacts from JCenter to MavenCentral"><meta name=twitter:description content="As you may have heard, JCenter is shutting down in May 2021.
 Into the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter
https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/
 So, if you are using JCenter as the repository for your libraries (as me), it’s time to migrate.
In this article, I will not go through the publishing process of a library to MavenCentral, because there are already plenty of resources available. For example, I followed the one written by Márton Braun."><meta name=application-name content="Marco Gomiero"><meta name=apple-mobile-web-app-title content="Marco Gomiero"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/><link rel=prev href=https://www.marcogomiero.com/posts/2021/running-blog-ipad/><link rel=next href=https://www.marcogomiero.com/posts/2021/kmp-existing-project/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Migrating old artifacts from JCenter to MavenCentral","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.marcogomiero.com\/posts\/2021\/move-libray-jcenter-to-maven\/"},"image":["https:\/\/www.marcogomiero.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","wordcount":602,"url":"https:\/\/www.marcogomiero.com\/posts\/2021\/move-libray-jcenter-to-maven\/","datePublished":"2021-02-11T00:00:00+00:00","dateModified":"2021-02-11T00:00:00+00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Marco Gomiero"},"author":{"@type":"Person","name":"Marco Gomiero"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Marco Gomiero">Marco Gomiero</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts>Posts </a><a class=menu-item href=/talks>Talks </a><a class=menu-item href=/projects>Projects </a><a class=menu-item href=/about-me>About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Marco Gomiero">Marco Gomiero</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts title>Posts</a><a class=menu-item href=/talks title>Talks</a><a class=menu-item href=/projects title>Projects</a><a class=menu-item href=/about-me title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel=stylesheet><main class=main><div class=container><article class="page single"><h1 class=single-title>Migrating old artifacts from JCenter to MavenCentral</h1><br><div class=post-meta><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="11 Feb 2021">11 Feb 2021</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;602 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;3 minutes&nbsp;</div></div><br><div class=content id=content><a href=https://androidweekly.net/issues/issue-453><img style=margin:0 src=https://androidweekly.net/issues/issue-453/badge></a><p>As you may have heard, JCenter is shutting down in May 2021.</p><blockquote><p>Into the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter<br><a href=https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/>https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/</a></p></blockquote><p>So, if you are using JCenter as the repository for your libraries (as me), it’s time to migrate.</p><p>In this article, I will not go through the publishing process of a library to MavenCentral, because there are already plenty of resources available. For example, I followed the one written by Márton Braun.</p><blockquote><p>Publishing Android libraries to MavenCentral in 2021
<a href=https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/>https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/</a></p></blockquote><p>Instead, the topic of this article is to show how to manually migrate the old artifacts of a library without recompiling them.</p><p>It’s important to migrate also the old artifacts because not all the users of your library are using the latest version. But if the library is old, it’s difficult to recompile it from scratch. For example, I’ve tried to manually rebuild the first version of <a href=https://github.com/prof18/YoutubeParser target=_blank rel="noopener noreffer">YoutubeParser</a>, but I quickly failed because it was using a version of the Android Gradle Plugin of 5 years ago that is now incompatible with Android Studio 4.</p><h2 id=download-old-artifacts-from-bintray>Download old artifacts from Bintray</h2><p>The first thing to do is downloading the old library’s artifacts from Bintray. It is possible to download them, directly from the Bintray directory page:</p><blockquote><p><a href=https://bintray.com/package/files/%7Byour-bintray-username%7D/maven/%7Byour-library-name%7D>https://bintray.com/package/files/{your-bintray-username}/maven/{your-library-name}</a></p></blockquote><p>For example, this is the URL for my other library, <a href=https://github.com/prof18/RSS-Parser target=_blank rel="noopener noreffer">RSS-Parser</a>: <a href=https://bintray.com/package/files/prof18/maven/RSS-Parser>https://bintray.com/package/files/prof18/maven/RSS-Parser</a></p><figure><a href=/img/move-libray-jcenter-to-maven/bintray-dir.png><img src=/img/move-libray-jcenter-to-maven/bintray-dir.png></a></figure><p>Here, it is possible to download the artifacts by simply clicking on them.</p><h2 id=sign-artifacts>Sign artifacts</h2><p>The next step is signing the artifacts, with a GPG key (to generate one, you can follow the instruction on <a href=https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/ target=_blank rel="noopener noreffer">Márton‘s article</a>). The command to perform the signing is the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash> gpg -ab rssparser-1.0.pom
</code></pre></td></tr></table></div></div><figure><a href=/img/move-libray-jcenter-to-maven/sign-terminal.png><img src=/img/move-libray-jcenter-to-maven/sign-terminal.png></a></figure><p>Remember that all the files uploaded to MavenCentral must be signed. In my case, I have to sign the <em>.aar</em> file, the <em>.pom</em> and the <em>jar</em> that contains the sources and the <em>JavaDoc</em> of the library.</p><p>The signing command produces a <em>.asc</em> file, that must be uploaded as well on MavenCentral.</p><figure><a href=/img/move-libray-jcenter-to-maven/signed-files.png><img src=/img/move-libray-jcenter-to-maven/signed-files.png></a></figure><h2 id=manual-upload-artifacts>Manual upload artifacts</h2><p>Now, it’s time to upload the artifacts. Login on <a href=https://oss.sonatype.org/ target=_blank rel="noopener noreffer">Sonatype</a> and from the menu on the left, select <em>Staging Upload</em></p><figure><a href=/img/move-libray-jcenter-to-maven/manual-upload.png><img src=/img/move-libray-jcenter-to-maven/manual-upload.png></a></figure><p>First of all, in the <em>Staging Upload</em> section, it is necessary to upload the <em>pom</em> file.</p><p>Switch the upload mode to <em>Artifact(s) with a pom</em> in the dropdown window and then select to <em>pom</em> to upload.</p><figure><a href=/img/move-libray-jcenter-to-maven/add-pom.png><img src=/img/move-libray-jcenter-to-maven/add-pom.png></a></figure><p>Then, in the section below, it is possible to upload the other artifacts. To do that, it is necessary to select them from the file system with the <em>Select Artifact(s) to Upload&mldr;</em> button and then add them to the list with the <em>Add Artifact</em> button.</p><figure><a href=/img/move-libray-jcenter-to-maven/artifacts-to-upload.png><img src=/img/move-libray-jcenter-to-maven/artifacts-to-upload.png></a></figure><p>Don’t forget to upload also the signatures (the <em>.asc</em> files)!</p><p>After adding all the artifacts, upload them with the <em>Upload Artifact(s)</em> button. It is also necessary to provide a brief description, for example <code>1.1 manual upload</code></p><figure><a href=/img/move-libray-jcenter-to-maven/add-artifacts.png><img src=/img/move-libray-jcenter-to-maven/add-artifacts.png></a></figure><p>It could happen the the upload is stuck and the progress bar never goes away. If it happens, reload the page and redo the process (I’ve noticed that it can happen when the browser tab is open for a while).</p><p>After the upload is successful, select <em>Staging Repositories</em> from the left menu.</p><figure><a href=/img/move-libray-jcenter-to-maven/staging-repo.png><img src=/img/move-libray-jcenter-to-maven/staging-repo.png></a></figure><p>Now, the process is the same as when the artifacts are upload from Android Studio (or from the CI). The only exception is that the close task is started automatically (if it not starts, you can start it manually from the top bar).</p><figure><a href=/img/move-libray-jcenter-to-maven/wait-close.png><img src=/img/move-libray-jcenter-to-maven/wait-close.png></a></figure><p>The close task takes a few moments to perform, and after that, it’s time to release the library with the button in the toolbar.</p><p>And that’s it! After the processing time (usually between 10 to 15 minutes) your library will be available to <a href=https://repo1.maven.org/maven2/ target=_blank rel="noopener noreffer">MavenCentral</a>.</p></div><section style=width:90%;margin-left:auto;margin-right:auto;margin-top:30px;margin-bottom:30px><hr><div style=padding:25px><div class=content>To stay up to date with my writing and my projects, follow me on <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div><hr></section><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/ data-title="Migrating old artifacts from JCenter to MavenCentral" data-via=marcoGomier><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/ data-title="Migrating old artifacts from JCenter to MavenCentral"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/><i class="fab fa-reddit fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2021/running-blog-ipad/ class=prev rel=prev title="Running a blog with iPad"><i class="fas fa-angle-left fa-fw"></i>Running a blog with iPad</a>
<a href=/posts/2021/kmp-existing-project/ class=next rel=next title="Introducing Kotlin Multiplatform in an existing project">Introducing Kotlin Multiplatform in an existing project<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2017 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.marcogomiero.com/ target=_blank>Marco Gomiero</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:1e5},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-90975904-1 ',{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-90975904-1%20" async></script></body></html>