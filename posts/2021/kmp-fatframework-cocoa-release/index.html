<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Introducing KMP FatFramework Cocoa, a Gradle plugin for iOS FatFramework - Marco Gomiero</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Today I want to share KMP FatFramework Cocoa, a Gradle plugin for Kotlin Multiplatform projects that generate a FatFramework for iOS targets and manages the publishing process in a CocoaPod Repository.
The plugin is born from a set of unbundled Gradle tasks that I wrote to manage the building and the publishing process of Kotlin Multiplatform libraries for iOS that we use at Uniwhere and Revelop. The libraries are published in a FatFramework that contains the code for every required architecture (real devices use the Arm64 architecture, while the simulator uses the host computer architecture which in most of the cases is X64)."><meta property="og:image" content><meta property="og:title" content="Introducing KMP FatFramework Cocoa, a Gradle plugin for iOS FatFramework"><meta property="og:description" content="Today I want to share KMP FatFramework Cocoa, a Gradle plugin for Kotlin Multiplatform projects that generate a FatFramework for iOS targets and manages the publishing process in a CocoaPod Repository.
The plugin is born from a set of unbundled Gradle tasks that I wrote to manage the building and the publishing process of Kotlin Multiplatform libraries for iOS that we use at Uniwhere and Revelop. The libraries are published in a FatFramework that contains the code for every required architecture (real devices use the Arm64 architecture, while the simulator uses the host computer architecture which in most of the cases is X64)."><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2021/kmp-fatframework-cocoa-release/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-02T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-02T00:00:00+00:00"><meta property="og:site_name" content="Marco Gomiero"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introducing KMP FatFramework Cocoa, a Gradle plugin for iOS FatFramework"><meta name=twitter:description content="Today I want to share KMP FatFramework Cocoa, a Gradle plugin for Kotlin Multiplatform projects that generate a FatFramework for iOS targets and manages the publishing process in a CocoaPod Repository.
The plugin is born from a set of unbundled Gradle tasks that I wrote to manage the building and the publishing process of Kotlin Multiplatform libraries for iOS that we use at Uniwhere and Revelop. The libraries are published in a FatFramework that contains the code for every required architecture (real devices use the Arm64 architecture, while the simulator uses the host computer architecture which in most of the cases is X64)."><script src=https://www.marcogomiero.com/js/feather.min.js></script>
<link href="https://fonts.googleapis.com/css?family=JetBrains+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.marcogomiero.com/css/main.8fe5ace0a232e45b783ae12e0eef4deff9d16c430f2dddaa7c5e21f36da4cbba.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://www.marcogomiero.com/css/dark.2d1f13dc82ea2d94683809543a326af8a9a1f3a6c000f7b7af5d8f02a2e6ec25.css disabled></head><body><div class=content><header><div class=main><a href=https://www.marcogomiero.com><h2>Marco Gomiero</h2></a></div><nav class=navbar><a href=/posts/><span>Write</span></a>
<a href=/talks/><span>Speak</span></a>
<a href=/projects/><span>Build</span></a>
<a href=/about-me/><span>About</span></a>
| <span class=dark-mode-toggle id=dark-mode-toggle onclick=toggleTheme()></span>
<script src=https://www.marcogomiero.com/js/themetoggle.js></script></nav></header><main><article><div class=title><h1 class=title>Introducing KMP FatFramework Cocoa, a Gradle plugin for iOS FatFramework</h1><div class=post-meta><span title='2021-03-02 00:00:00 +0000 UTC'>2 March 2021</span></div></div><section class=body><p>Today I want to share <a href=https://github.com/prof18/kmp-fatframework-cocoa><strong>KMP FatFramework Cocoa</strong></a>, a Gradle plugin for Kotlin Multiplatform projects that generate a FatFramework for iOS targets and manages the publishing process in a CocoaPod Repository.</p><p>The plugin is born from a set of unbundled Gradle tasks that I wrote to manage the building and the publishing process of Kotlin Multiplatform libraries for iOS that we use at <a href=https://www.uniwhere.com/>Uniwhere</a> and <a href=https://revelop.app/>Revelop</a>. The libraries are published in a <strong>FatFramework</strong> that contains the code for every required architecture (real devices use the <em>Arm64</em> architecture, while the simulator uses the host computer architecture which in most of the cases is <em>X64</em>).</p><p>After copying and pasting the task between different projects, I thought that having them bundled into a Gradle plugin, would be a good idea.</p><h2 id=features>Features</h2><p>The plugin is composed of a bunch of tasks that let you build the FatFramework with the <code>Debug</code> or <code>Release</code> target, publish both the versions to a CocoaPod repository, and also create the repository.</p><p>The task that publishes the debug version of the FatFramework will use the <code>develop</code> branch of the CocoaPod repository, while the task for the release version will use the <code>main</code> (or <code>master</code>) branch and it will also tag the release with the provided version number. In this way, in the iOS project you can get the latest changes published on the develop branch:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span>pod <span style=color:#5af78e>&#39;&lt;your-library-name&gt;&#39;</span>, <span style=color:#5af78e>:git</span> <span style=color:#ff6ac1>=&gt;</span> <span style=color:#5af78e>&#34;git@github.com:&lt;git-username&gt;/&lt;repo-name&gt;.git&#34;</span>, <span style=color:#5af78e>:branch</span> <span style=color:#ff6ac1>=&gt;</span> <span style=color:#5af78e>&#39;develop&#39;</span>
</span></span></code></pre></div><p>or specify a tag to get the release version:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span>pod <span style=color:#5af78e>&#39;&lt;your-library-name&gt;&#39;</span>, <span style=color:#5af78e>:git</span> <span style=color:#ff6ac1>=&gt;</span> <span style=color:#5af78e>&#34;git@github.com:&lt;git-username&gt;/&lt;repo-name&gt;.git&#34;</span>, <span style=color:#5af78e>:tag</span> <span style=color:#ff6ac1>=&gt;</span> <span style=color:#5af78e>&#39;&lt;version-number&gt;&#39;</span>
</span></span></code></pre></div><p>For all the details about the tasks and the required configurations, you can give a look at the documentation on the <a href=https://github.com/prof18/kmp-fatframework-cocoa>GitHub repo</a>.
Instead, if you are interested in the internals of the tasks, I’ve recently written <a href=https://www.marcogomiero.com/posts/2021/kmp-existing-project/>an article about the topic</a>.</p><p>This is my first Gradle plugin and I’ve learned a lot during the process. If you notice a bug or something strange, feel free to <a href=https://github.com/prof18/kmp-fatframework-cocoa/issues>report it on GitHub</a> or to contribute (contributions are always appreciated).</p><p>And, if you have any suggestion or any kind of doubt, feel free to reach me out on Twitter <a href=https://twitter.com/marcoGomier>@marcoGomier</a>.</p></section><div class=article-footer><div class=body>To stay up to date with my writing and my projects, follow me on <a href=https://androiddev.social/@marcogom target=_blank>Mastodon</a> or <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.marcogomiero.com>Marco Gomiero</a></span></footer><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-69FZ1TLE7E","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>