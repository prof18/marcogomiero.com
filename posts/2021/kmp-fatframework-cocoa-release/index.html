<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Introducing KMP FatFramework Cocoa, a Gradle plugin for iOS FatFramework | Marco Gomiero</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=Description content="Software Engineer · Community Manager"><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><link rel=prev href=https://www.marcogomiero.com/posts/2021/kmp-existing-project/><link rel=canonical href=https://www.marcogomiero.com/posts/2021/kmp-fatframework-cocoa-release/><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introducing KMP FatFramework Cocoa, a Gradle plugin for iOS FatFramework"><meta name=twitter:description content="Today I want to share KMP FatFramework Cocoa, a Gradle plugin for Kotlin Multiplatform projects that generate a FatFramework for iOS targets and manages the publishing process in a CocoaPod Repository.
The plugin is born from a set of unbundled Gradle tasks that I wrote to manage the building and the publishing process of Kotlin Multiplatform libraries for iOS that we use at Uniwhere and Revelop. The libraries are published in a FatFramework that contains the code for every required architecture (real devices use the Arm64 architecture, while the simulator uses the host computer architecture which in most of the cases is X64)."><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Introducing KMP FatFramework Cocoa, a Gradle plugin for iOS FatFramework","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.marcogomiero.com\/posts\/2021\/kmp-fatframework-cocoa-release\/"},"genre":"posts","keywords":"Kotlin Multiplatform","wordcount":359,"url":"https:\/\/www.marcogomiero.com\/posts\/2021\/kmp-fatframework-cocoa-release\/","datePublished":"2021-03-02T00:00:00\u002b00:00","dateModified":"2021-03-02T00:00:00\u002b00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","description":""}</script><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.10.1/css/all.min.css integrity="sha256-fdcFNFiBMrNfWL6OcAGQz6jDgNTRxnrLEd4vJYFWScE=" crossorigin=anonymous><link rel=stylesheet href=/css/lib/animate/animate.min.min.css><script async defer src=https://buttons.github.io/buttons.js></script></head><body><script>window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><nav class=navbar><div class=navbar-container><div class=navbar-header><a href=https://www.marcogomiero.com>Marco Gomiero</a></div><div class=navbar-menu><a class=menu-item href=https://www.marcogomiero.com/posts>Posts</a>
<a class=menu-item href=https://www.marcogomiero.com/talks>Talks</a>
<a class=menu-item href=https://www.marcogomiero.com/projects/>Projects</a>
<a class=menu-item href=https://www.marcogomiero.com/about-me/>About</a>
<a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a></div></div></nav><nav class=navbar-mobile><div class=navbar-container><div class=navbar-header><div class=navbar-header-title><a href=https://www.marcogomiero.com>Marco Gomiero</a></div><div class=menu-toggle id=menu-toggle><span></span><span></span><span></span></div></div><div class=navbar-menu id=mobile-menu><a class=menu-item href=https://www.marcogomiero.com/posts>Posts</a>
<a class=menu-item href=https://www.marcogomiero.com/talks>Talks</a>
<a class=menu-item href=https://www.marcogomiero.com/projects/>Projects</a>
<a class=menu-item href=https://www.marcogomiero.com/about-me/>About</a>
<a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a></div></div></nav><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel=stylesheet><main class=main><div class=container><article class=post-warp><h1 class=post-title>Introducing KMP FatFramework Cocoa, a Gradle plugin for iOS FatFramework</h1><div class=post-meta><div class=post-meta-main><br></div><div class=post-meta-other><i class="far fa-calendar-alt fa-fw"></i><time datetime="2 Mar 2021">2 Mar 2021</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 359 words&nbsp;
<i class="far fa-clock fa-fw"></i>2 min&nbsp;</div></div><br><div class=post-content><p>Today I want to share <strong>KMP FatFramework Cocoa</strong>, a Gradle plugin for Kotlin Multiplatform projects that generate a FatFramework for iOS targets and manages the publishing process in a CocoaPod Repository.</p><p>The plugin is born from a set of unbundled Gradle tasks that I wrote to manage the building and the publishing process of Kotlin Multiplatform libraries for iOS that we use at <a href=https://www.uniwhere.com/>Uniwhere</a> and <a href=https://revelop.app/>Revelop</a>. The libraries are published in a <strong>FatFramework</strong> that contains the code for every required architecture (real devices use the <em>Arm64</em> architecture, while the simulator uses the host computer architecture which in most of the cases is <em>X64</em>).</p><p>After copying and pasting the task between different projects, I thought that having them bundled into a Gradle plugin, would be a good idea.</p><a class=post-dummy-target id=features></a><h2>Features</h2><p>The plugin is composed of a bunch of tasks that let you build the FatFramework with the <code>Debug</code> or <code>Release</code> target, publish both the versions to a CocoaPod repository, and also create the repository.</p><p>The task that publishes the debug version of the FatFramework will use the <code>develop</code> branch of the CocoaPod repository, while the task for the release version will use the <code>main</code> (or <code>master</code>) branch and it will also tag the release with the provided version number. In this way, in the iOS project you can get the latest changes published on the develop branch:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-ruby data-lang=ruby><span class=n>pod</span> <span class=s1>&#39;&lt;your-library-name&gt;&#39;</span><span class=p>,</span> <span class=ss>:git</span> <span class=o>=&gt;</span> <span class=s2>&#34;git@github.com:&lt;git-username&gt;/&lt;repo-name&gt;.git&#34;</span><span class=p>,</span> <span class=ss>:branch</span> <span class=o>=&gt;</span> <span class=s1>&#39;develop&#39;</span>
</code></pre></td></tr></table></div></div><p>or specify a tag to get the release version:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-ruby data-lang=ruby><span class=n>pod</span> <span class=s1>&#39;&lt;your-library-name&gt;&#39;</span><span class=p>,</span> <span class=ss>:git</span> <span class=o>=&gt;</span> <span class=s2>&#34;git@github.com:&lt;git-username&gt;/&lt;repo-name&gt;.git&#34;</span><span class=p>,</span> <span class=ss>:tag</span> <span class=o>=&gt;</span> <span class=s1>&#39;&lt;version-number&gt;&#39;</span>
</code></pre></td></tr></table></div></div><p>For all the details about the tasks and the required configurations, you can give a look at the documentation on the <a href=https://github.com/prof18/kmp-fatframework-cocoa>GitHub repo</a>.
Instead, if you are interested in the internals of the tasks, I’ve recently written <a href=https://github.com/prof18/kmp-fatframework-cocoa>an article about the topic</a>.</p><p>This is my first Gradle plugin and I’ve learned a lot during the process. If you notice a bug or something strange, feel free to <a href=https://github.com/prof18/kmp-fatframework-cocoa/issues>report it on GitHub</a> or to contribute (contributions are always appreciated).</p><p>And, if you have any suggestion or any kind of doubt, feel free to reach me out on Twitter <a href=https://twitter.com/marcoGomier>@marcoGomier</a>. or specify a tag to get the release version:</p></div><section style=width:90%;margin-left:auto;margin-right:auto;margin-top:30px;margin-bottom:30px><hr><div style=padding:25px><div>Keep up to date with my writings and my projects by subscribing to my newsletter. I write about mobile development, with a focus on Kotlin, Kotlin Multiplatform and declarative patterns. And don't worry, I will not DDoS your inbox. I'll only write when something new & interesting comes up:</div><form style=padding-bottom:20px action=https://tinyletter.com/marcogomiero method=post target=popupwindow onsubmit="window.open('https://tinyletter.com/marcogomiero','popupwindow','scrollbars=yes,width=800,height=600');return true;"><p><input type=email style="width:80%;border:1px solid #e0e0e0;border-radius:2px;color:#5c5e60;background-color:#fff;height:57px;padding-left:15px" name=email id=tlemail placeholder="Your email address"></p><input type=hidden value=1 name=embed>
<input type=submit value=Subscribe class=button></form></div><hr></section><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href="//twitter.com/share?url=https%3a%2f%2fwww.marcogomiero.com%2fposts%2f2021%2fkmp-fatframework-cocoa-release%2f&text=Introducing%20KMP%20FatFramework%20Cocoa%2c%20a%20Gradle%20plugin%20for%20iOS%20FatFramework&via=marcoGomier" target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-fw"></i></a><a href="//reddit.com/submit?url=https%3a%2f%2fwww.marcogomiero.com%2fposts%2f2021%2fkmp-fatframework-cocoa-release%2f&title=Introducing%20KMP%20FatFramework%20Cocoa%2c%20a%20Gradle%20plugin%20for%20iOS%20FatFramework" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-fw"></i></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.marcogomiero.com%2fposts%2f2021%2fkmp-fatframework-cocoa-release%2f&title=Introducing%20KMP%20FatFramework%20Cocoa%2c%20a%20Gradle%20plugin%20for%20iOS%20FatFramework" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin fa-fw"></i></a></span></div></div></div><div class=post-info-more><section><span class=tag><a href=https://www.marcogomiero.com/tags/kotlin-multiplatform/><i class="fas fa-tag fa-fw"></i>Kotlin Multiplatform</a></span></section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=https://www.marcogomiero.com>Home</a></span></section></div><div class=post-nav><a href=https://www.marcogomiero.com/posts/2021/kmp-existing-project/ class=prev rel=prev title="Introducing Kotlin Multiplatform in an existing project"><i class="fas fa-angle-left fa-fw"></i>Introducing Kotlin Multiplatform in an existing project</a></div></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2017 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.marcogomiero.com>Marco Gomiero</a></span></div><br></div></footer><script src=/js/lib/jquery/jquery.slim.min.min.js></script><script src=/js/lib/lazysizes/lazysizes.min.min.js></script><script src=/js/lib/smooth-scroll/smooth-scroll.polyfills.min.min.js></script><script>window.scroll=new SmoothScroll('[data-scroll]',{speed:300,speedAsDuration:true});</script><script src=/js/blog.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-90975904-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></div><a href=# class=dynamic-to-top id=dynamic-to-top data-scroll><span>&nbsp;</span></a></body></html>