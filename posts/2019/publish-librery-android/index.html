<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to publish and distribute your Android library | Marco Gomiero</title><meta name=keywords content><meta name=description content="Update - February 2021 As you may have heard, JCenter is shutting down in May 2021.
Into the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter
https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/
So, this tutorial is no longer recommended because it explains how to publish an Android library to JCenter.
I suggested you follow this guide written by Márton Braun.
Publishing Android libraries to MavenCentral in 2021 https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/
If you have already published a library on JCenter and you want to migrate the old artifacts to MavenCentral, you can follow the guide that I’ve written:"><meta name=author content="Marco Gomiero"><link rel=canonical href=https://www.marcogomiero.com/posts/2019/publish-librery-android/><link crossorigin=anonymous href=/assets/css/stylesheet.min.686715e54e31dbf63447efd76235e41e047fd8826df608657b7b0ddb3a0d900d.css integrity="sha256-aGcV5U4x2/Y0R+/XYjXkHgR/2IJt9ghle3sN2zoNkA0=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.marcogomiero.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.marcogomiero.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.marcogomiero.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.marcogomiero.com/apple-touch-icon.png><link rel=mask-icon href=https://www.marcogomiero.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-69FZ1TLE7E"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-69FZ1TLE7E",{anonymize_ip:!1})}</script><meta property="og:title" content="How to publish and distribute your Android library"><meta property="og:description" content="Update - February 2021 As you may have heard, JCenter is shutting down in May 2021.
Into the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter
https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/
So, this tutorial is no longer recommended because it explains how to publish an Android library to JCenter.
I suggested you follow this guide written by Márton Braun.
Publishing Android libraries to MavenCentral in 2021 https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/
If you have already published a library on JCenter and you want to migrate the old artifacts to MavenCentral, you can follow the guide that I’ve written:"><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2019/publish-librery-android/"><meta property="og:image" content="https://miro.medium.com/max/1400/0*6Th4syvZgyIhhACo"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-05-28T00:00:00+00:00"><meta property="article:modified_time" content="2019-05-28T00:00:00+00:00"><meta property="og:site_name" content="Marco Gomiero"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://miro.medium.com/max/1400/0*6Th4syvZgyIhhACo"><meta name=twitter:title content="How to publish and distribute your Android library"><meta name=twitter:description content="Update - February 2021 As you may have heard, JCenter is shutting down in May 2021.
Into the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter
https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/
So, this tutorial is no longer recommended because it explains how to publish an Android library to JCenter.
I suggested you follow this guide written by Márton Braun.
Publishing Android libraries to MavenCentral in 2021 https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/
If you have already published a library on JCenter and you want to migrate the old artifacts to MavenCentral, you can follow the guide that I’ve written:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.marcogomiero.com/posts/"},{"@type":"ListItem","position":3,"name":"How to publish and distribute your Android library","item":"https://www.marcogomiero.com/posts/2019/publish-librery-android/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to publish and distribute your Android library","name":"How to publish and distribute your Android library","description":"Update - February 2021 As you may have heard, JCenter is shutting down in May 2021.\nInto the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter\nhttps://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\nSo, this tutorial is no longer recommended because it explains how to publish an Android library to JCenter.\nI suggested you follow this guide written by Márton Braun.\nPublishing Android libraries to MavenCentral in 2021 https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/\nIf you have already published a library on JCenter and you want to migrate the old artifacts to MavenCentral, you can follow the guide that I’ve written:","keywords":[],"articleBody":" Update - February 2021 As you may have heard, JCenter is shutting down in May 2021.\nInto the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter\nhttps://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\nSo, this tutorial is no longer recommended because it explains how to publish an Android library to JCenter.\nI suggested you follow this guide written by Márton Braun.\nPublishing Android libraries to MavenCentral in 2021 https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/\nIf you have already published a library on JCenter and you want to migrate the old artifacts to MavenCentral, you can follow the guide that I’ve written:\nMigrating old artifacts from JCenter to MavenCentral https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/\nOriginal Article: You have just built an awesome Android library but you don’t know how to publish it? You are in the right place; in this article, I will explain to you the process that I use to publish my two libraries.\nFirst of all, let’s assume that you have already developed your Android library, so you have a library module in Android Studio.\nAn example of a library module\nThe library will be published to *jCenter, *a Maven repository hosted by bintray.com. The process is simple: the library is built locally in Android Studio, the artifacts will be upload to bintray and then linked to jCenter.\nIn this way, the developers that want to use your library has only to declare it in the *build.gradle *file of their projects. For example:\nimplementation \"com.prof.rssparser:rssparser:2.0.4\" The first thing to do is to create a Bintray account and for open source projects is FREE.\nCreate a Bintray account\nAfter the creation of the account, you have to choose a repository. Let’s go with Maven (I know, you are thinking “Why? I want to publish it to jCenter”. Well, as said above jCenter is a Maven repository so we have to choose Maven).\nChoose Maven as repository\nNow you can create a new package inside your Maven repository.\nAdd a new package to the Maven repository\nAdd basic information of the library\nAfter adding all the basic information of your library, like name, description, license, tags, etc., the repository of the library is ready.\nNow, back to the code. I’ll take as reference, a library that I’ve developed, so you can dive into the real code if you want.\nprof18/RSS-Parser\nFirst of all, you have to add some dependencies into the build.gradle file of your project.\nclasspath 'com.github.dcendents:android-maven-gradle-plugin:2.0' classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4' EDIT: The android-maven-gradle-plugin has been deprecated and you have to change the plugin to generate the artifact if you are using Gradle 5 and above. The new plugin is the one developed by Sky-UK and you need to apply it on the publish.gradle file (more details about it later on).\nsky-uk/gradle-maven-plugin\nSo we can get rid of the deprecated dependency:\nclasspath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4' At this point, we are ready to create the publishing script. Inside the library project, create a publish.gradle file and apply it on the *build.gradle file *of your library.\napply from: 'publish.gradle' apply plugin: 'maven-publish' apply plugin: 'com.jfrog.bintray' group 'com.your.awesome.lib' version '1.0.0' publishing { publications { Production(MavenPublication) { artifact(\"$buildDir/outputs/aar/awesomelibrary-release.aar\") { builtBy tasks.getByName(\"assembleRelease\") } groupId artifactId 'awesomelibrary' version this.version pom.withXml { def dependenciesNode = asNode().appendNode('dependencies') // Iterate over the implementation dependencies (we don't want the test ones), adding a node for each configurations.implementation.allDependencies.each { // Ensure dependencies such as fileTree are not included in the pom. if (it.name != 'unspecified') { def dependencyNode = dependenciesNode.appendNode('dependency') dependencyNode.appendNode('groupId', it.group) dependencyNode.appendNode('artifactId', it.name) dependencyNode.appendNode('version', it.version) } } } } } } def properties = new Properties() properties.load(new FileInputStream(\"local.properties\")) bintray { user = properties.getProperty(\"bintray.user\") key = properties.getProperty(\"bintray.apikey\") publications = ['Production'] configurations = ['archives'] override = true pkg { repo = 'maven' name = 'AwesomeLib' description = \"It's an awesome lib\" publicDownloadNumbers = true licenses = ['Apache-2.0'] vcsUrl = 'https://github.com/prof18/AwesomeLib' version { name = this.version desc = \"Version ${this.version}\" released = new Date() vcsTag = this.version } } } EDIT: Starting from Gradle 5 and above, the previous script is not valid anymore and you need to change it a little bit.\napply plugin: 'com.jfrog.bintray' group 'com.your.awesome.lib' version '1.0.0' project.ext { mavGitUrl = 'https://github.com/prof18/AwesomeLib.git' mavProjectName = 'AwesomeLib' mavLibraryLicenses = [\"Apache-2.0\":'http://www.apache.org/licenses/LICENSE-2.0.txt'] mavLibraryDescription = \"An Awesome Android library\" mavPublishToMavenLocal = true mavSiteUrl = 'https://github.com/prof18/AwesomeLib' } def properties = new Properties() properties.load(new FileInputStream(\"local.properties\")) bintray { user = properties.getProperty(\"bintray.user\") key = properties.getProperty(\"bintray.apikey\") publications = ['Production'] configurations = ['archives'] override = true pkg { repo = 'maven' name = 'AwesomeLib' description = \"It's an awesome lib\" publicDownloadNumbers = true licenses = ['Apache-2.0'] vcsUrl = 'https://github.com/prof18/AwesomeLib' version { name = this.version desc = \"Version ${this.version}\" released = new Date() vcsTag = this.version } } } apply from: 'https://raw.githubusercontent.com/sky-uk/gradle-maven-plugin/master/gradle-mavenizer.gradle' To better understand the changes, you can refer to the diff.\nBefore explaining the whole script, a clarification of the library signature is mandatory. As mentioned earlier, the signature of your library has the following shape:\ncom.prof.rssparser:rssparser:2.0.4 and it is composed of three parts:\nthe Group ID (com.prof.rssparser);\nthe Artifact ID (rssparser);\nthe Version (2.0.4).\nGROUP_ID:ARTIFACT_ID:VERSION So, for the example library that we have created above, the Group ID is: “com.your.awesome.lib”, the Artifact ID is: “awesomelib” and the version is: “1.0.0”. These fields are arbitrary and you have to choose a name; keep in mind that with a new update, only the version will change in the signature.\ncom.your.awesome.lib:awesomelib:1.0.0 Returning to the script, the lines [7–33] - (EDIT: [6–13]) - are responsible to build the library, generate the artifacts and link all the external dependencies that you are using.\nThe lines [38–58] - (EDIT: [15–38]) - instead are responsible for the uploading of the library. Here you have to specify your bintray username, bintray API key (you can retrieve and revoke it under Edit Your Profile -\u003e API Key), the version, the artifact and the group of the library and other useful information. You can found all the different information that you can provide, in the documentation of the gradle bintray plugin.\nbintray/gradle-bintray-plugin\nRemember to keep private the username and the private key. There are many ways, for example, I saved them in the local.properties:\nbintray.user=\u003cyour-name\u003e bintray.apikey=\u003cyour-key\u003e and loaded them in the *publish.gradle *script with a few simple lines of code.\ndef properties = new Properties() properties.load(new FileInputStream(\"local.properties\")) user = properties.getProperty(\"bintray.user\") key = properties.getProperty(\"bintray.apikey\") Finally, it’s time to open the Terminal and launch the build and upload task (I recommend to use the *– info *flag to have a better understanding of what it is going on).\n./gradlew clean build bintrayUpload --info EDIT: After the deprecation of the android-maven-gradle-plugin, the command to launch the build and upload task is changed\n./gradlew clean publish bintrayUpload --info If everything went well, the artifacts have been uploaded to bintray but not yet published.\nNew version uploaded but not yet published\nI have intentionally disabled the automatic publishing because it can save your life if there are some errors. But if you want, there is a flag that you can put in the publish.gradle file that automatically publishes the library as soon it has been uploaded.\nTo publish the library, you have to click the *Publish *button on a banner that appears in the repository page of the library.\nAnd now the last step. You have to link the library to jCenter. This process must be done only the first time. At the right bottom of the library repository page, there is a “Add to jCenter”* *button.\nLink the library to jCenter\nSend the request and wait for the approval.\nWithin max two hours, your library is published and linked to jCenter, as you can see in the repository page.\nFinally, you can tell the world about your awesome library and provide the signature to implement it.\ndependencies { implementation ‘com.your.awesome.lib:awesomelib:1.0.0’ } And that’s all folks! I agree with you that the process is not simple but I hope to have cleared all your doubts.\n","wordCount":"1295","inLanguage":"en","image":"https://miro.medium.com/max/1400/0*6Th4syvZgyIhhACo","datePublished":"2019-05-28T00:00:00Z","dateModified":"2019-05-28T00:00:00Z","author":{"@type":"Person","name":"Marco Gomiero"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.marcogomiero.com/posts/2019/publish-librery-android/"},"publisher":{"@type":"Organization","name":"Marco Gomiero","logo":{"@type":"ImageObject","url":"https://www.marcogomiero.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.marcogomiero.com accesskey=h title="Marco Gomiero (Alt + H)">Marco Gomiero</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.marcogomiero.com/posts/ title=Write><span>Write</span></a></li><li><a href=https://www.marcogomiero.com/talks/ title=Speak><span>Speak</span></a></li><li><a href=https://www.marcogomiero.com/projects/ title=Build><span>Build</span></a></li><li><a href=https://www.marcogomiero.com/about-me/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>How to publish and distribute your Android library</h1><div class=post-meta style=margin-top:16px><span title='2019-05-28 00:00:00 +0000 UTC'>28 May 2019</span>&nbsp;·&nbsp;7 min</div></header><div class=post-content><a href=https://androidweekly.net/issues/issue-364><img style=margin:0 src=https://androidweekly.net/issues/issue-364/badge></a><br><h2 id=update---february-2021>Update - February 2021<a hidden class=anchor aria-hidden=true href=#update---february-2021>#</a></h2><p>As you may have heard, JCenter is shutting down in May 2021.</p><blockquote><p>Into the Sunset on May 1st: Bintray, JCenter, GoCenter, and ChartCenter<br><a href=https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/>https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/</a></p></blockquote><p>So, this tutorial is no longer recommended because it explains how to publish an Android library to JCenter.</p><p>I suggested you follow this guide written by Márton Braun.</p><blockquote><p>Publishing Android libraries to MavenCentral in 2021
<a href=https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/>https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/</a></p></blockquote><p>If you have already published a library on JCenter and you want to migrate the old artifacts to MavenCentral, you can follow the guide that I’ve written:</p><blockquote><p>Migrating old artifacts from JCenter to MavenCentral
<a href=https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/>https://www.marcogomiero.com/posts/2021/move-libray-jcenter-to-maven/</a></p></blockquote><h2 id=original-article>Original Article:<a hidden class=anchor aria-hidden=true href=#original-article>#</a></h2><p>You have just built an awesome Android library but you don’t know how to publish it? You are in the right place; in this article, I will explain to you the process that I use to publish my two libraries.</p><p>First of all, let’s assume that you have already developed your Android library, so you have a library module in Android Studio.</p><figure><img loading=lazy src=/img/library/android-studio.png alt=image><figcaption><p><em>An example of a library module</em></p></figcaption></figure><p>The library will be published to *jCenter, *a Maven repository hosted by <a href=http://www.bintray.com>bintray.com</a>. The process is simple: the library is built locally in Android Studio, the artifacts will be upload to <em>bintray</em> and then linked to <em>jCenter.</em></p><figure><img loading=lazy src=/img/library/scheme.png alt=image></figure><p>In this way, the developers that want to use your library has only to declare it in the *build.gradle *file of their projects. For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>implementation <span style=color:#e6db74>&#34;com.prof.rssparser:rssparser:2.0.4&#34;</span>
</span></span></code></pre></div><p>The first thing to do is to create a <a href=https://bintray.com/>Bintray</a> account and for open source projects is FREE.</p><figure><img loading=lazy src=/img/library/account.png alt=image><figcaption><p><em>Create a Bintray account</em></p></figcaption></figure><p>After the creation of the account, you have to choose a repository. Let’s go with Maven (I know, you are thinking “Why? I want to publish it to jCenter”. Well, as said above jCenter is a Maven repository so we have to choose Maven).</p><figure><img loading=lazy src=/img/library/profile.png alt=image><figcaption><p><em>Choose Maven as repository</em></p></figcaption></figure><p>Now you can create a new package inside your Maven repository.</p><figure><img loading=lazy src=/img/library/add-package.png alt=image><figcaption><p><em>Add a new package to the Maven repository</em></p></figcaption></figure><figure><img loading=lazy src=/img/library/create-package.png alt=image><figcaption><p><em>Add basic information of the library</em></p></figcaption></figure><p>After adding all the basic information of your library, like name, description, license, tags, etc., the repository of the library is ready.</p><figure><img loading=lazy src=/img/library/lib.png alt=image></figure><p>Now, back to the code. I’ll take as reference, a library that I’ve developed, so you can dive into the real code if you want.</p><blockquote><p><a href=https://github.com/prof18/RSS-Parser>prof18/RSS-Parser</a></p></blockquote><p>First of all, you have to add some dependencies into the <em>build.gradle</em> file of your project.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>classpath <span style=color:#e6db74>&#39;com.github.dcendents:android-maven-gradle-plugin:2.0&#39;</span>
</span></span><span style=display:flex><span>classpath <span style=color:#e6db74>&#39;com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4&#39;</span>
</span></span></code></pre></div><hr><p><strong>EDIT</strong>: The <code>android-maven-gradle-plugin</code> has been deprecated and you have to change the plugin to generate the artifact if you are using Gradle 5 and above. The new plugin is the one developed by Sky-UK and you need to apply it on the publish.gradle file (more details about it later on).</p><blockquote><p><a href=https://github.com/sky-uk/gradle-maven-plugin>sky-uk/gradle-maven-plugin</a></p></blockquote><p>So we can get rid of the deprecated dependency:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>classpath <span style=color:#e6db74>&#39;com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4&#39;</span>
</span></span></code></pre></div><hr><p>At this point, we are ready to create the publishing script. Inside the library project, create a <em>publish.gradle</em> file and apply it on the *build.gradle <em>file</em> *of your library.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>apply from: <span style=color:#e6db74>&#39;publish.gradle&#39;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>apply plugin: <span style=color:#e6db74>&#39;maven-publish&#39;</span>
</span></span><span style=display:flex><span>apply plugin: <span style=color:#e6db74>&#39;com.jfrog.bintray&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>group <span style=color:#e6db74>&#39;com.your.awesome.lib&#39;</span>
</span></span><span style=display:flex><span>version <span style=color:#e6db74>&#39;1.0.0&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>publishing <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    publications <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Production<span style=color:#f92672>(</span>MavenPublication<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            artifact<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;$buildDir/outputs/aar/awesomelibrary-release.aar&#34;</span><span style=color:#f92672>)</span>  <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                builtBy tasks<span style=color:#f92672>.</span><span style=color:#a6e22e>getByName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;assembleRelease&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            groupId
</span></span><span style=display:flex><span>            artifactId <span style=color:#e6db74>&#39;awesomelibrary&#39;</span>
</span></span><span style=display:flex><span>            version <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>version</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            pom<span style=color:#f92672>.</span><span style=color:#a6e22e>withXml</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>def</span> dependenciesNode <span style=color:#f92672>=</span> asNode<span style=color:#f92672>().</span><span style=color:#a6e22e>appendNode</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;dependencies&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>// Iterate over the implementation dependencies (we don&#39;t want the test ones), adding a &lt;dependency&gt; node for each
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                configurations<span style=color:#f92672>.</span><span style=color:#a6e22e>implementation</span><span style=color:#f92672>.</span><span style=color:#a6e22e>allDependencies</span><span style=color:#f92672>.</span><span style=color:#a6e22e>each</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>// Ensure dependencies such as fileTree are not included in the pom.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>it<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span> <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;unspecified&#39;</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>def</span> dependencyNode <span style=color:#f92672>=</span> dependenciesNode<span style=color:#f92672>.</span><span style=color:#a6e22e>appendNode</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;dependency&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>                        dependencyNode<span style=color:#f92672>.</span><span style=color:#a6e22e>appendNode</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;groupId&#39;</span><span style=color:#f92672>,</span> it<span style=color:#f92672>.</span><span style=color:#a6e22e>group</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>                        dependencyNode<span style=color:#f92672>.</span><span style=color:#a6e22e>appendNode</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;artifactId&#39;</span><span style=color:#f92672>,</span> it<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>                        dependencyNode<span style=color:#f92672>.</span><span style=color:#a6e22e>appendNode</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;version&#39;</span><span style=color:#f92672>,</span> it<span style=color:#f92672>.</span><span style=color:#a6e22e>version</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> properties <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Properties<span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>properties<span style=color:#f92672>.</span><span style=color:#a6e22e>load</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;local.properties&#34;</span><span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bintray <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    user <span style=color:#f92672>=</span> properties<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;bintray.user&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    key <span style=color:#f92672>=</span> properties<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;bintray.apikey&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    publications <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;Production&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>    configurations <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;archives&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>    override <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    pkg <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        repo <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;maven&#39;</span>
</span></span><span style=display:flex><span>        name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;AwesomeLib&#39;</span>
</span></span><span style=display:flex><span>        description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;It&#39;s an awesome lib&#34;</span>
</span></span><span style=display:flex><span>        publicDownloadNumbers <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        licenses <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;Apache-2.0&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>        vcsUrl <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://github.com/prof18/AwesomeLib&#39;</span>
</span></span><span style=display:flex><span>        version <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            name <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>version</span>
</span></span><span style=display:flex><span>            desc <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Version ${this.version}&#34;</span>
</span></span><span style=display:flex><span>            released <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date<span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>            vcsTag <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>version</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><hr><p><strong>EDIT</strong>: Starting from Gradle 5 and above, the previous script is not valid anymore and you need to change it a little bit.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>apply plugin: <span style=color:#e6db74>&#39;com.jfrog.bintray&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>group <span style=color:#e6db74>&#39;com.your.awesome.lib&#39;</span>
</span></span><span style=display:flex><span>version <span style=color:#e6db74>&#39;1.0.0&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>project<span style=color:#f92672>.</span><span style=color:#a6e22e>ext</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    mavGitUrl <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://github.com/prof18/AwesomeLib.git&#39;</span>
</span></span><span style=display:flex><span>    mavProjectName <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;AwesomeLib&#39;</span>
</span></span><span style=display:flex><span>    mavLibraryLicenses <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;Apache-2.0&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#39;http://www.apache.org/licenses/LICENSE-2.0.txt&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>    mavLibraryDescription <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;An Awesome Android library&#34;</span>
</span></span><span style=display:flex><span>    mavPublishToMavenLocal <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    mavSiteUrl <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://github.com/prof18/AwesomeLib&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> properties <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Properties<span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>properties<span style=color:#f92672>.</span><span style=color:#a6e22e>load</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;local.properties&#34;</span><span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bintray <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    user <span style=color:#f92672>=</span> properties<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;bintray.user&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    key <span style=color:#f92672>=</span> properties<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;bintray.apikey&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    publications <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;Production&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>    configurations <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;archives&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>    override <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    pkg <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        repo <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;maven&#39;</span>
</span></span><span style=display:flex><span>        name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;AwesomeLib&#39;</span>
</span></span><span style=display:flex><span>        description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;It&#39;s an awesome lib&#34;</span>
</span></span><span style=display:flex><span>        publicDownloadNumbers <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        licenses <span style=color:#f92672>=</span> <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;Apache-2.0&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>        vcsUrl <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://github.com/prof18/AwesomeLib&#39;</span>
</span></span><span style=display:flex><span>        version <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            name <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>version</span>
</span></span><span style=display:flex><span>            desc <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Version ${this.version}&#34;</span>
</span></span><span style=display:flex><span>            released <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date<span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>            vcsTag <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>version</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>apply from: <span style=color:#e6db74>&#39;https://raw.githubusercontent.com/sky-uk/gradle-maven-plugin/master/gradle-mavenizer.gradle&#39;</span>
</span></span></code></pre></div><p>To better understand the changes, you can refer to <a href=https://gist.github.com/prof18/ac3a632e7604436f483220c435b6edef/revisions#diff-d2449a02877e0ea0956446e281890efd>the diff</a>.</p><hr><p>Before explaining the whole script, a clarification of the library signature is mandatory. As mentioned earlier, the signature of your library has the following shape:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>prof</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rssparser</span><span style=color:#f92672>:</span>rssparser:<span style=color:#ae81ff>2.0</span><span style=color:#f92672>.</span><span style=color:#ae81ff>4</span>
</span></span></code></pre></div><p>and it is composed of three parts:</p><ul><li><p>the Group ID (<em>com.prof.rssparser</em>);</p></li><li><p>the Artifact ID (<em>rssparser</em>);</p></li><li><p>the Version (<em>2.0.4</em>).</p></li></ul><pre tabindex=0><code>GROUP_ID:ARTIFACT_ID:VERSION
</code></pre><p>So, for the example library that we have created above, the Group ID is: “<em>com.your.awesome.lib</em>”, the Artifact ID is: “<em>awesomelib</em>” and the version is: “<em>1.0.0</em>”. These fields are arbitrary and you have to choose a name; keep in mind that with a new update, only the version will change in the signature.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>your</span><span style=color:#f92672>.</span><span style=color:#a6e22e>awesome</span><span style=color:#f92672>.</span><span style=color:#a6e22e>lib</span><span style=color:#f92672>:</span>awesomelib:<span style=color:#ae81ff>1.0</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0</span>
</span></span></code></pre></div><p>Returning to the script, the lines [7–33] - (<strong>EDIT</strong>: [6–13]) - are responsible to build the library, generate the artifacts and link all the external dependencies that you are using.</p><p>The lines [38–58] - (<strong>EDIT</strong>: [15–38]) - instead are responsible for the uploading of the library. Here you have to specify your bintray username, bintray API key (you can retrieve and revoke it under <em>Edit Your Profile -> API Key</em>), the version, the artifact and the group of the library and other useful information. You can found all the different information that you can provide, in the documentation of the gradle bintray plugin.</p><blockquote><p><a href=https://github.com/bintray/gradle-bintray-plugin>bintray/gradle-bintray-plugin</a></p></blockquote><p>Remember to keep private the username and the private key. There are many ways, for example, I saved them in the <em>local.properties:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>bintray<span style=color:#f92672>.</span><span style=color:#a6e22e>user</span><span style=color:#f92672>=&lt;</span>your<span style=color:#f92672>-</span>name<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>bintray<span style=color:#f92672>.</span><span style=color:#a6e22e>apikey</span><span style=color:#f92672>=&lt;</span>your<span style=color:#f92672>-</span>key<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><p>and loaded them in the *publish.gradle *script with a few simple lines of code.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span><span style=color:#66d9ef>def</span> properties <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Properties<span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>properties<span style=color:#f92672>.</span><span style=color:#a6e22e>load</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;local.properties&#34;</span><span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>user <span style=color:#f92672>=</span> properties<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;bintray.user&#34;</span><span style=color:#f92672>)</span>    
</span></span><span style=display:flex><span>key <span style=color:#f92672>=</span> properties<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;bintray.apikey&#34;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>Finally, it’s time to open the Terminal and launch the build and upload task (I recommend to use the *&ndash; info *flag to have a better understanding of what it is going on).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span><span style=color:#f92672>./</span>gradlew clean build bintrayUpload <span style=color:#f92672>--</span>info
</span></span></code></pre></div><hr><p><strong>EDIT</strong>: After the deprecation of the <code>android-maven-gradle-plugin</code>, the command to launch the build and upload task is changed</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span><span style=color:#f92672>./</span>gradlew clean publish bintrayUpload <span style=color:#f92672>--</span>info
</span></span></code></pre></div><hr><p>If everything went well, the artifacts have been uploaded to bintray but not yet published.</p><figure><img loading=lazy src=/img/library/versions.png alt=image><figcaption><p><em>New version uploaded but not yet published</em></p></figcaption></figure><p>I have intentionally disabled the automatic publishing because it can save your life if there are some errors. But if you want, there is a flag that you can put in the <em>publish.gradle</em> file that automatically publishes the library as soon it has been uploaded.</p><p>To publish the library, you have to click the *Publish *button on a banner that appears in the repository page of the library.</p><figure><img loading=lazy src=/img/library/unpublished.png alt=image></figure><p>And now the last step. You have to link the library to jCenter. This process must be done only the first time. At the right bottom of the library repository page, there is a “<em>Add to jCenter</em>”* *button.</p><figure><img loading=lazy src=/img/library/linked.png alt=image><figcaption><p><em>Link the library to jCenter</em></p></figcaption></figure><p>Send the request and wait for the approval.</p><figure><img loading=lazy src=/img/library/message.png alt=image></figure><p>Within max two hours, your library is published and linked to jCenter, as you can see in the repository page.</p><figure><img loading=lazy src=/img/library/jcenter.png alt=image></figure><p>Finally, you can tell the world about your awesome library and provide the signature to implement it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>dependencies <span style=color:#f92672>{</span> 
</span></span><span style=display:flex><span>    implementation <span style=color:#960050;background-color:#1e0010>‘</span>com<span style=color:#f92672>.</span><span style=color:#a6e22e>your</span><span style=color:#f92672>.</span><span style=color:#a6e22e>awesome</span><span style=color:#f92672>.</span><span style=color:#a6e22e>lib</span><span style=color:#f92672>:</span>awesomelib:<span style=color:#ae81ff>1.0</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>’</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>And that’s all folks! I agree with you that the process is not simple but I hope to have cleared all your doubts.</p></div><div class=article-footer><div class=post-content>To stay up to date with my writing and my projects, follow me on <a href=https://androiddev.social/@marcogom target=_blank>Mastodon</a> or <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.marcogomiero.com>Marco Gomiero</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>