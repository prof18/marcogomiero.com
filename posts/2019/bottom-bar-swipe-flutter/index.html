<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bottom App Bar with Menu and Swipeable Tabs in Flutter | Marco Gomiero</title><meta name=keywords content><meta name=description content="The recent revamp of the Material Design has introduced new beautiful items, for example, the Bottom App Bar.
  Image from Material Design Guidelines
  With Flutter is super easy to implement like shown in the official documentation. However, for me, the tricky part is to combine it with swipeable tabs so, in this article, I’ll explain all the steps that I’ve followed to obtain it.
Here’s a spoiler of the final result:"><meta name=author content="Marco Gomiero"><link rel=canonical href=https://www.marcogomiero.com/posts/2019/bottom-bar-swipe-flutter/><link crossorigin=anonymous href=/assets/css/stylesheet.min.686715e54e31dbf63447efd76235e41e047fd8826df608657b7b0ddb3a0d900d.css integrity="sha256-aGcV5U4x2/Y0R+/XYjXkHgR/2IJt9ghle3sN2zoNkA0=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://www.marcogomiero.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.marcogomiero.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.marcogomiero.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.marcogomiero.com/apple-touch-icon.png><link rel=mask-icon href=https://www.marcogomiero.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-90975904-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Bottom App Bar with Menu and Swipeable Tabs in Flutter"><meta property="og:description" content="The recent revamp of the Material Design has introduced new beautiful items, for example, the Bottom App Bar.
  Image from Material Design Guidelines
  With Flutter is super easy to implement like shown in the official documentation. However, for me, the tricky part is to combine it with swipeable tabs so, in this article, I’ll explain all the steps that I’ve followed to obtain it.
Here’s a spoiler of the final result:"><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2019/bottom-bar-swipe-flutter/"><meta property="og:image" content="https://www.marcogomiero.com/img/profile.webp"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-03-20T00:00:00+00:00"><meta property="article:modified_time" content="2019-03-20T00:00:00+00:00"><meta property="og:site_name" content="Marco Gomiero"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.marcogomiero.com/img/profile.webp"><meta name=twitter:title content="Bottom App Bar with Menu and Swipeable Tabs in Flutter"><meta name=twitter:description content="The recent revamp of the Material Design has introduced new beautiful items, for example, the Bottom App Bar.
  Image from Material Design Guidelines
  With Flutter is super easy to implement like shown in the official documentation. However, for me, the tricky part is to combine it with swipeable tabs so, in this article, I’ll explain all the steps that I’ve followed to obtain it.
Here’s a spoiler of the final result:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.marcogomiero.com/posts/"},{"@type":"ListItem","position":3,"name":"Bottom App Bar with Menu and Swipeable Tabs in Flutter","item":"https://www.marcogomiero.com/posts/2019/bottom-bar-swipe-flutter/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Bottom App Bar with Menu and Swipeable Tabs in Flutter","name":"Bottom App Bar with Menu and Swipeable Tabs in Flutter","description":"The recent revamp of the Material Design has introduced new beautiful items, for example, the Bottom App Bar.\n  Image from Material Design Guidelines\n  With Flutter is super easy to implement like shown in the official documentation. However, for me, the tricky part is to combine it with swipeable tabs so, in this article, I’ll explain all the steps that I’ve followed to obtain it.\nHere’s a spoiler of the final result:","keywords":[],"articleBody":"The recent revamp of the Material Design has introduced new beautiful items, for example, the Bottom App Bar.\n  Image from Material Design Guidelines\n  With Flutter is super easy to implement like shown in the official documentation. However, for me, the tricky part is to combine it with swipeable tabs so, in this article, I’ll explain all the steps that I’ve followed to obtain it.\nHere’s a spoiler of the final result:\n  So (another spoiler), we have to mix together three elements: a BottomAppBar, a BottomSheet, and a TabBarView.\nFirst of all, the first step is to create a Placeholder widget that will be shown in the different tabs in which simply shows a text in the center. Of course, this widget should be replaced with the specific implementation.\nimport 'package:flutter/material.dart'; class PlaceholderWidget extends StatelessWidget { final String text; PlaceholderWidget(this.text); @override Widget build(BuildContext context) { return Center(child: Text(text)); } } Now, its time to create the structure in which the Placeholder widgets will be shown by using a Scaffold widget. In this case, the Scaffold Widget has three main children: a FloatingActionButton, a TabBarView and a BottomAppBar.\nLet’s start with the TabBarView. Usually, the TabBarView is combined with the TabBar that creates an alternative to the swipe to change tab ( You can find an example in the official Flutter doc). However, in this case, the alternative is provided by the menu callable from the BottomAppBar as shown in the GIF above.\nTabBarView( controller: _controller, children: _allPages.mapWidget((_Page page) { return SafeArea( top: false, bottom: false, child: Container( key: ObjectKey(page.widget), padding: const EdgeInsets.all(12.0), child: page.widget ), ); }).toList() As you can see, it is a very simple snippet that returns as children (i.e. the different tabs) the widgets contained in the variable _allPages. These widgets are all of the type PlaceholderWidget. In addition to the children, we have to provide a controller, that is the “guy” that keeps the selected tab and content sections in sync. In this case, we don’t use the DefaultTabController , but we create a TabController to handle the tabs also from the menu. If the swipe is enough to change tabs, we could simply use the DefaultTabController.\n_controller = TabController(vsync: this, length: _allPages.length); Now, let’s focus on the BottomAppBar.\nbottomNavigationBar: BottomAppBar( child: new Row( mainAxisSize: MainAxisSize.max, mainAxisAlignment: MainAxisAlignment.spaceBetween, children: Widget[ IconButton( icon: Icon(Icons.menu), onPressed: () { _showModal(); }), IconButton( icon: Icon(Icons.search), ) ], ), ) As Bottom Bar, we simply show a row with two icons at the edges. This can be done by setting the mainAxisSize and the mainAxisAlignment respectively to MainAxisSize.max and MainAxisAlignment.spaceBetween . One of these two icons is our menu. By clicking it, we will show a Bottom Sheet that shows the list of tabs.\nvoid _showModal() { showModalBottomSheetvoid( context: context, builder: (BuildContext context) { return new Column( mainAxisSize: MainAxisSize.min, children: Widget[ new ListTile( leading: new Icon(Icons.music_note), title: new Text('Screen 1'), onTap: () { _controller.animateTo(0); Navigator.pop(context); }, ), new ListTile( leading: new Icon(Icons.photo_album), title: new Text('Screen 2'), onTap: () { _controller.animateTo(1); Navigator.pop(context); }, ), new ListTile( leading: new Icon(Icons.videocam), title: new Text('Screen 3'), onTap: () { _controller.animateTo(2); Navigator.pop(context); }, ), ], ); } ); } In order to create and show a Bottom Sheet we need to call the showModalBottomSheet method and provide in the builder, the widgets that we want to show. In this case, we use a Column with ListTile widgets, i.e. a widget that can have a leading and a trailing icon and some text.\nTo navigate to the different tabs, we have to use the TabController defined above and call the method animateTo, by passing as parameter the number of tab that we want to show. After showing the tab we need to close the Bottom Sheet and to do that we can use Navigator.pop(context) that navigates to the first route. You can found more info about the Navigator in the official doc.\nFinally, we have to place the FloatingActionButton.\nfloatingActionButton: FloatingActionButton.extended( elevation: 4.0, icon: const Icon(Icons.add), label: const Text('Add a task'), onPressed: () {}, ), floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked, As you can see, the code is very simple. In this case we want a centered FAB, so we need to specify it in the floatingActionButtonLocation .\nAnd that’s it! With little effort, we have created a very beautiful and modern UI.\nOf course, you can find the complete code on my Github.\n prof18/BottomAppBarSwipeableTabs\n ","wordCount":"723","inLanguage":"en","datePublished":"2019-03-20T00:00:00Z","dateModified":"2019-03-20T00:00:00Z","author":{"@type":"Person","name":"Marco Gomiero"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.marcogomiero.com/posts/2019/bottom-bar-swipe-flutter/"},"publisher":{"@type":"Organization","name":"Marco Gomiero","logo":{"@type":"ImageObject","url":"https://www.marcogomiero.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://www.marcogomiero.com accesskey=h title="Marco Gomiero (Alt + H)">Marco Gomiero</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.marcogomiero.com/posts/ title=Write><span>Write</span></a></li><li><a href=https://www.marcogomiero.com/talks/ title=Speak><span>Speak</span></a></li><li><a href=https://www.marcogomiero.com/projects/ title=Build><span>Build</span></a></li><li><a href=https://www.marcogomiero.com/about-me/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Bottom App Bar with Menu and Swipeable Tabs in Flutter</h1><div class=post-meta style=margin-top:16px><span title="2019-03-20 00:00:00 +0000 UTC">20 March 2019</span>&nbsp;·&nbsp;4 min</div></header><div class=post-content><p>The recent revamp of the Material Design has introduced new beautiful items, for example, the Bottom App Bar.</p><figure><img loading=lazy src=/img/bottom-bar.png alt=image><figcaption><p><em>Image from <a href=https://material.io/design/components/app-bars-bottom.html#>Material Design Guidelines</a></em></p></figcaption></figure><p>With Flutter is super easy to implement like shown in the <a href=https://docs.flutter.io/flutter/material/BottomAppBar-class.html>official documentation</a>. However, for me, the tricky part is to combine it with swipeable tabs so, in this article, I’ll explain all the steps that I’ve followed to obtain it.</p><p>Here’s a spoiler of the final result:</p><figure><img loading=lazy src=/img/bottom.gif alt=image></figure><p>So (another spoiler), we have to mix together three elements: a <strong>BottomAppBar</strong>, a <strong>BottomSheet</strong>, and a <strong>TabBarView</strong>.</p><p>First of all, the first step is to create a Placeholder widget that will be shown in the different tabs in which simply shows a text in the center. Of course, this widget should be replaced with the specific implementation.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#39;package:flutter/material.dart&#39;</span>;

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PlaceholderWidget</span> <span style=color:#66d9ef>extends</span> StatelessWidget {
    <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>String</span> text;

    PlaceholderWidget(<span style=color:#66d9ef>this</span>.text);

    <span style=color:#960050;background-color:#1e0010>@</span>override
    Widget build(BuildContext context) {
        <span style=color:#66d9ef>return</span> Center(child: Text(text));
    }
}
</code></pre></div><p>Now, its time to create the structure in which the Placeholder widgets will be shown by using a <a href=https://docs.flutter.io/flutter/material/Scaffold-class.html><em>Scaffold</em></a> widget. In this case, the Scaffold Widget has three main children: a <a href=https://docs.flutter.io/flutter/material/FloatingActionButton-class.html><strong>FloatingActionButton</strong></a>, a <a href=https://docs.flutter.io/flutter/material/TabBarView-class.html><strong>TabBarView</strong></a> and a <a href=https://docs.flutter.io/flutter/material/BottomAppBar-class.html><strong>BottomAppBar</strong></a>.</p><p>Let’s start with the <strong>TabBarView</strong>. Usually, the TabBarView is combined with the TabBar that creates an alternative to the swipe to change tab ( You can find an example <a href=https://flutter.dev/docs/cookbook/design/tabs>in the official Flutter doc</a>). However, in this case, the alternative is provided by the menu callable from the BottomAppBar as shown in the GIF above.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart>TabBarView(
    controller: _controller,
    children: _allPages.map<span style=color:#f92672>&lt;</span>Widget<span style=color:#f92672>&gt;</span>((_Page page) {
    <span style=color:#66d9ef>return</span> SafeArea(
            top: <span style=color:#66d9ef>false</span>,
            bottom: <span style=color:#66d9ef>false</span>,
            child: Container(
            key: ObjectKey(page.widget),
            padding: <span style=color:#66d9ef>const</span> EdgeInsets.all(<span style=color:#ae81ff>12.0</span>),
            child: page.widget
        ),
    );
}).toList()
</code></pre></div><p>As you can see, it is a very simple snippet that returns as children (i.e. the different tabs) the widgets contained in the variable _allPages. These widgets are all of the type PlaceholderWidget. In addition to the children, we have to provide a controller, that is the “guy” that keeps the selected tab and content sections in sync. In this case, we don’t use the DefaultTabController , but we create a <a href=https://docs.flutter.io/flutter/material/TabController-class.html>TabController</a> to handle the tabs also from the menu. If the swipe is enough to change tabs, we could simply use the DefaultTabController.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart>_controller <span style=color:#f92672>=</span> TabController(vsync: <span style=color:#66d9ef>this</span>, length: _allPages.length);
</code></pre></div><p>Now, let’s focus on the <strong>BottomAppBar</strong>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart>bottomNavigationBar: BottomAppBar(
    child: <span style=color:#66d9ef>new</span> Row(
        mainAxisSize: MainAxisSize.max,
        mainAxisAlignment: MainAxisAlignment.spaceBetween,
        children: <span style=color:#f92672>&lt;</span>Widget<span style=color:#f92672>&gt;</span>[
            IconButton(
                icon: Icon(Icons.menu),
                onPressed: () {
                _showModal();
                }),
            IconButton(
                icon: Icon(Icons.search),
            )
        ],
    ),
)
</code></pre></div><p>As Bottom Bar, we simply show a row with two icons at the edges. This can be done by setting the mainAxisSize and the mainAxisAlignment respectively to MainAxisSize.max and MainAxisAlignment.spaceBetween . One of these two icons is our menu. By clicking it, we will show a Bottom Sheet that shows the list of tabs.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#66d9ef>void</span> _showModal() {
    showModalBottomSheet<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>void</span><span style=color:#f92672>&gt;</span>(
        context: context,
        builder: (BuildContext context) {
            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Column(
                mainAxisSize: MainAxisSize.min,
                children: <span style=color:#f92672>&lt;</span>Widget<span style=color:#f92672>&gt;</span>[
                    <span style=color:#66d9ef>new</span> ListTile(
                        leading: <span style=color:#66d9ef>new</span> Icon(Icons.music_note),
                        title: <span style=color:#66d9ef>new</span> Text(<span style=color:#e6db74>&#39;Screen 1&#39;</span>),
                        onTap: () {
                            _controller.animateTo(<span style=color:#ae81ff>0</span>);
                            Navigator.pop(context);
                        },
                    ),
                    <span style=color:#66d9ef>new</span> ListTile(
                        leading: <span style=color:#66d9ef>new</span> Icon(Icons.photo_album),
                        title: <span style=color:#66d9ef>new</span> Text(<span style=color:#e6db74>&#39;Screen 2&#39;</span>),
                        onTap: () {
                            _controller.animateTo(<span style=color:#ae81ff>1</span>);
                            Navigator.pop(context);
                        },
                    ),
                    <span style=color:#66d9ef>new</span> ListTile(
                        leading: <span style=color:#66d9ef>new</span> Icon(Icons.videocam),
                        title: <span style=color:#66d9ef>new</span> Text(<span style=color:#e6db74>&#39;Screen 3&#39;</span>),
                        onTap: () {
                            _controller.animateTo(<span style=color:#ae81ff>2</span>);
                            Navigator.pop(context);
                        },
                    ),
                ],
            );
        }
    );
}
</code></pre></div><p>In order to create and show a <a href=https://docs.flutter.io/flutter/material/BottomSheet-class.html><strong>Bottom Sheet</strong></a> we need to call the <code>showModalBottomSheet&lt;void></code> method and provide in the builder, the widgets that we want to show. In this case, we use a <a href=https://docs.flutter.io/flutter/widgets/Column-class.html>Column</a> with <a href=https://docs.flutter.io/flutter/material/ListTile-class.html>ListTile</a> widgets, i.e. a widget that can have a leading and a trailing icon and some text.</p><p>To navigate to the different tabs, we have to use the TabController defined above and call the method animateTo, by passing as parameter the number of tab that we want to show. After showing the tab we need to close the Bottom Sheet and to do that we can use Navigator.pop(context) that navigates to the first route. You can found more info about the Navigator <a href=https://flutter.dev/docs/cookbook/navigation/navigation-basics>in the official doc.</a></p><p>Finally, we have to place the <strong>FloatingActionButton.</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart>floatingActionButton: FloatingActionButton.extended(
    elevation: <span style=color:#ae81ff>4.0</span>,
    icon: <span style=color:#66d9ef>const</span> Icon(Icons.add),
    label: <span style=color:#66d9ef>const</span> Text(<span style=color:#e6db74>&#39;Add a task&#39;</span>),
    onPressed: () {},
),
floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,
</code></pre></div><p>As you can see, the code is very simple. In this case we want a centered FAB, so we need to specify it in the floatingActionButtonLocation .</p><p>And that&rsquo;s it! With little effort, we have created a very beautiful and modern UI.</p><p>Of course, you can find the complete code on my Github.</p><blockquote><p><a href=https://github.com/prof18/BottomAppBarSwipeableTabs>prof18/BottomAppBarSwipeableTabs</a></p></blockquote></div><div class=article-footer><div class=post-content>To stay up to date with my writing and my projects, follow me on <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.marcogomiero.com/posts/2019/publish-librery-android/><span class=title>« Prev</span><br><span>How to publish and distribute your Android library</span></a>
<a class=next href=https://www.marcogomiero.com/posts/2019/asynctask-to-coroutines/><span class=title>Next »</span><br><span>A journey from Async Task to Kotlin Coroutines</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.marcogomiero.com>Marco Gomiero</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerHTML='copy';function d(){a.innerHTML='copied!',setTimeout(()=>{a.innerHTML='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body></html>