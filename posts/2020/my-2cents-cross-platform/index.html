<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>My 2 Cents about cross-platform | Marco Gomiero</title><meta name=keywords content><meta name=description content="During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.
Disclaimer: in this article, I will share some opinions based on my experience and they can apply to your situation or not."><meta name=author content="Marco Gomiero"><link rel=canonical href=https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/><link crossorigin=anonymous href=/assets/css/stylesheet.min.686715e54e31dbf63447efd76235e41e047fd8826df608657b7b0ddb3a0d900d.css integrity="sha256-aGcV5U4x2/Y0R+/XYjXkHgR/2IJt9ghle3sN2zoNkA0=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.marcogomiero.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.marcogomiero.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.marcogomiero.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.marcogomiero.com/apple-touch-icon.png><link rel=mask-icon href=https://www.marcogomiero.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-69FZ1TLE7E"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-69FZ1TLE7E",{anonymize_ip:!1})}</script><meta property="og:title" content="My 2 Cents about cross-platform"><meta property="og:description" content="During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.
Disclaimer: in this article, I will share some opinions based on my experience and they can apply to your situation or not."><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/"><meta property="og:image" content="https://www.marcogomiero.com/img/2cents-cross/google-trend-cross.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-08-04T00:00:00+00:00"><meta property="article:modified_time" content="2020-08-04T00:00:00+00:00"><meta property="og:site_name" content="Marco Gomiero"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.marcogomiero.com/img/2cents-cross/google-trend-cross.png"><meta name=twitter:title content="My 2 Cents about cross-platform"><meta name=twitter:description content="During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.
Disclaimer: in this article, I will share some opinions based on my experience and they can apply to your situation or not."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.marcogomiero.com/posts/"},{"@type":"ListItem","position":3,"name":"My 2 Cents about cross-platform","item":"https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"My 2 Cents about cross-platform","name":"My 2 Cents about cross-platform","description":"During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.\nDisclaimer: in this article, I will share some opinions based on my experience and they can apply to your situation or not.","keywords":[],"articleBody":"During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.\nDisclaimer: in this article, I will share some opinions based on my experience and they can apply to your situation or not. If you want to share your considerations, feel free to reach me out on Twitter @marcoGomier.\nPossible solutions Out in the wild, there are plenty of different cross-platform solutions. However, in this post, I will focus only on the most used (that are also ones that provide an experience as much close as the native one) and the most promising.\nGoogle Trends for the past 12 months. Last update July 2020\nFirst of all, I’ve excluded all the solutions that use web technologies to render the app in a WebView (like Cordova or Ionic) because they don’t have adequate performances (And I haven’t used them for this reason). The solutions on which I will focus are: React Native, Flutter, and Kotlin Multiplatform. (yes, there is also Xamarin but I never used it and it seems not so appealing in the community).\nReact Native I’ve used React Native in a production brownfield (a yet existing app with some feature developed with React Native. More info about brownfield: Wikipedia) app (Uniwhere and we ditched it for performance reasons). I don’t like it because I don’t like Javascript and I prefer statically typed languages (yes I could use Typescript, but I prefer a nominative type system rather than a structural one).\nFlutter: I’ve used Flutter in both pet projects (Friends Tournament) and production apps. Flutter has better performances with complex layouts and UIs (For a complete comparison between Flutter and React Native, you can look to the series of articles that I’ve written) and uses Dart as language. Dart is a strongly typed language but the type can also be inferred. In just two words, I can say that Dart is a mixture of Javascript and an Object-Oriented language. So (as you may guess), if I have to choose between Flutter and React Native I will choose Flutter.\nKotlin Multiplatform I’ve used Kotlin Multiplatform in both pet projects (not yet released) and production app (Uniwhere). Even if it is an experimental feature, it is stable enough to be used in production applications. Kotlin Multiplatform has a completely different approach to code sharing with respect to React Native and Flutter. Later on, I will explain why, but for the time being, all you need to know is that, with Kotlin Multiplatform, you will not share between the platform all the code but only some parts (for example the business logic, the network layer, the persistence layer, etc.)\nIssue with cross-platform solutions The real bottleneck of every cross-platform framework is the UI code. Every solution tries to unify the UI declaration between two (or more) platforms that works differently under the hood.\nReact Native uses a “bridge” to create a connection between the native part of the application and the Javascript one, so it can be possible to call native code from the javascript part of the application and vice-versa. In this way, a React Component (for example a ) will be mapped to a native component (a TextView on Android and UILabel on iOs).\nFlutter instead draws the widgets by itself on a canvas, using Skia (an open-source 2D graphic library managed by Google and used by Chrome, Chrome OS, Android, Firefox, and many others).\nFor a comparison of how Flutter and React Native works, you can look to the third episode of the comparison series.\nThese approaches (of course) has pros and cons.\nWith the “React Native solution”, the pro is that the framework is transparent to OS changes: if Google or Apple decides to tweak the appearance of an existential widget, everything will work (or better, should) without any changes. The con instead is that there will be some delay due to the bridge initialization and the runtime translation needed to enable the communication between the Javascript part and the native one (you’ll notice it with complex layouts).\nWith Flutter instead, everything is faster because there is not the time for the translation and the widgets are drawn in a canvas by Skia. The con is that the widgets are not the system one. Visually are the same but they are not the same. And if there will be new native widgets from Google and Apple we have to wait that the Flutter team adds them.\nAnd that’s why Kotlin Multiplatform is interesting. As stated in the documentation:\n“multiplatform is not about compiling all code for all platforms”\nIn fact, every platform has its uniqueness, different behaviors and it’s very difficult to find a common pattern that “unifies the differences”. So the solution that Kotlin Multiplatform provides is the possibility to share some part of the code, for example, the business logic, the data persistence layer, the network layer, etc.\ntl;dr; share as much [NO UI] code as possible.\nBut, if you need to access platform-specific code (and it happens in the business logic, for example, the SQL driver), you can use the expected/actual mechanism. In this way, a common module can define expected declarations, and a platform module can provide actual declarations corresponding to the expected ones.\nSo, since the solution to the cross-platform problem is not to share UI code, do I need to ditch solutions like React Native and Flutter?\nWhat to use now? Well Well, no.\nEvery solution can be used and it’s useful in different situations.\nFor example, for a short span application, i.e. an app for a conference, for a concert, a festival, an event, etc., using a cross-platform solution like Flutter or React Native is a good idea. In fact, you need to develop in a (usually) short time an app that will be used by the attendees that use different platforms for a limited amount of time.\nWhen you need a short time to market and maintenance/longevity are not important, go cross-platform\nAnother example is when you have an idea and you want to validate it in the market (aka doing an MVP - Minimum Viable Product). In this stage, velocity is the key: you need to prove as fast as you can that your idea fits in the market. So, going with a cross-platform solution is a good idea because you avoid wasting time and resources in developing for two different platforms. Of course, this is applicable if you want to cover all the platforms. If you have an idea iOS only, going cross-platform is no-sense.\nIf you are developing an MVP, go cross-platform\nAfter a successful MVP stage, you found yourself with a proven idea and you need to build a product that can scale. So, you need a proper structure, scalable, testable, and easily maintainable. And inevitable at this point you will have some tech debt for the rush and quick decision taken during the MVP phase. Potentially you’ll need to rewrite the two clients with a native solution, without “hacky” solutions because after proving that “it can work”, you have to prove that “it can scale”. (For a deeper analysis about tech choices in an early-stage startup, look to the article written by my friend Gian.)\nSwitch to native if you have issues on scaling\nIn this situation, Kotlin Multiplatform can be really useful. With two native applications, with platform-specific UI code, sharing the common business logic code is a good solution. In fact, you can write it one and test it once without any dependencies from the native platform.\nThe perfect recipe? Unfortunately, there isn’t a perfect recipe. Every project has its peculiar characteristics and could be very hard to find the perfect solution. One project can work perfectly with a cross-platform solution while another can be a big big pain.\nChoosing the right technology is part of the game.\nAn important point to keep in mind is that if the experience with a particular choice is not successful as expected, you must have the consciousness to admit the defeat and try another solution (I know, it’s not easy).\nI hope that by sharing my experience, I will help you to make a great decision. If you want to share your considerations, feel free to reach me out on Twitter @marcoGomier.\n","wordCount":"1431","inLanguage":"en","image":"https://www.marcogomiero.com/img/2cents-cross/google-trend-cross.png","datePublished":"2020-08-04T00:00:00Z","dateModified":"2020-08-04T00:00:00Z","author":{"@type":"Person","name":"Marco Gomiero"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/"},"publisher":{"@type":"Organization","name":"Marco Gomiero","logo":{"@type":"ImageObject","url":"https://www.marcogomiero.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.marcogomiero.com accesskey=h title="Marco Gomiero (Alt + H)">Marco Gomiero</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.marcogomiero.com/posts/ title=Write><span>Write</span></a></li><li><a href=https://www.marcogomiero.com/talks/ title=Speak><span>Speak</span></a></li><li><a href=https://www.marcogomiero.com/projects/ title=Build><span>Build</span></a></li><li><a href=https://www.marcogomiero.com/about-me/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>My 2 Cents about cross-platform</h1><div class=post-meta style=margin-top:16px><span title='2020-08-04 00:00:00 +0000 UTC'>4 August 2020</span>&nbsp;·&nbsp;7 min</div></header><div class=post-content><p>During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.</p><blockquote><p><strong>Disclaimer</strong>: in this article, I will share some opinions based on my experience and they can apply to your situation or not. If you want to share your considerations, feel free to reach me out on Twitter <a href=https://twitter.com/marcoGomier>@marcoGomier</a>.</p></blockquote><h2 id=possible-solutions>Possible solutions<a hidden class=anchor aria-hidden=true href=#possible-solutions>#</a></h2><p>Out in the wild, there are plenty of different cross-platform solutions. However, in this post, I will focus only on the most used (that are also ones that provide an experience as much close as the native one) and the most promising.</p><figure><img loading=lazy src=/img/2cents-cross/google-trend-cross.png alt=image><figcaption><p>Google Trends for the past 12 months. <em>Last update July 2020</em></p></figcaption></figure><p>First of all, I&rsquo;ve excluded all the solutions that use web technologies to render the app in a WebView (like <a href=https://cordova.apache.org/>Cordova</a> or <a href=https://ionicframework.com/>Ionic</a>) because they don&rsquo;t have adequate performances (And I haven&rsquo;t used them for this reason). The solutions on which I will focus are: React Native, Flutter, and Kotlin Multiplatform. (yes, there is also Xamarin but I never used it and it seems not so appealing in the community).</p><h3 id=react-native>React Native<a hidden class=anchor aria-hidden=true href=#react-native>#</a></h3><p>I&rsquo;ve used React Native in a production brownfield (a yet existing app with some feature developed with React Native. More info about brownfield: <a href=https://en.wikipedia.org/wiki/Brownfield_(software_development)>Wikipedia</a>) app (<a href=https://www.uniwhere.com/>Uniwhere</a> and we ditched it for performance reasons). I don&rsquo;t like it because I don&rsquo;t like Javascript and I prefer statically typed languages (yes I could use Typescript, but I prefer a nominative type system rather than a structural one).</p><h3 id=flutter>Flutter:<a hidden class=anchor aria-hidden=true href=#flutter>#</a></h3><p>I&rsquo;ve used Flutter in both pet projects (<a href=https://github.com/prof18/Friends-Tournament>Friends Tournament</a>) and production apps. Flutter has better performances with complex layouts and UIs (For a complete comparison between Flutter and React Native, you can look <a href=https://www.marcogomiero.com/posts/2020/rn-flutter-dilemma-series/>to the series of articles that I&rsquo;ve written</a>) and uses Dart as language. Dart is a strongly typed language but the type can also be inferred. In just two words, I can say that Dart is a mixture of Javascript and an Object-Oriented language. So (as you may guess), if I have to choose between Flutter and React Native I will choose Flutter.</p><h3 id=kotlin-multiplatform>Kotlin Multiplatform<a hidden class=anchor aria-hidden=true href=#kotlin-multiplatform>#</a></h3><p>I&rsquo;ve used Kotlin Multiplatform in both pet projects (not yet released) and production app (<a href=https://www.uniwhere.com/>Uniwhere</a>). Even if it is an experimental feature, it is stable enough to be used in production applications. Kotlin Multiplatform has a completely different approach to code sharing with respect to React Native and Flutter. Later on, I will explain why, but for the time being, all you need to know is that, with Kotlin Multiplatform, you will not share between the platform all the code but only some parts (for example the business logic, the network layer, the persistence layer, etc.)</p><h2 id=issue-with-cross-platform-solutions>Issue with cross-platform solutions<a hidden class=anchor aria-hidden=true href=#issue-with-cross-platform-solutions>#</a></h2><p>The real bottleneck of every cross-platform framework is the UI code. Every solution tries to unify the UI declaration between two (or more) platforms that works differently under the hood.</p><p>React Native uses a &ldquo;bridge&rdquo; to create a connection between the native part of the application and the Javascript one, so it can be possible to call native code from the javascript part of the application and vice-versa. In this way, a React Component (for example a <code>&lt;Text></code>) will be mapped to a native component (a <code>TextView</code> on Android and <code>UILabel</code> on iOs).</p><p>Flutter instead draws the widgets by itself on a canvas, using Skia (an open-source 2D graphic library managed by Google and used by Chrome, Chrome OS, Android, Firefox, and many others).</p><blockquote><p>For a comparison of how Flutter and React Native works, you can look <a href=https://www.marcogomiero.com/posts/2020/rn-flutter-dilemma-3-under-hood/>to the third episode of the comparison series</a>.</p></blockquote><p>These approaches (of course) has pros and cons.</p><p>With the &ldquo;<strong>React Native solution</strong>&rdquo;, the pro is that the framework is transparent to OS changes: if Google or Apple decides to tweak the appearance of an existential widget, everything will work (or better, should) without any changes. The con instead is that there will be some delay due to the bridge initialization and the runtime translation needed to enable the communication between the Javascript part and the native one (you&rsquo;ll notice it with complex layouts).</p><p>With <strong>Flutter</strong> instead, everything is faster because there is not the time for the translation and the widgets are drawn in a canvas by Skia. The con is that the widgets are not the system one. Visually are the same but they are not the same. And if there will be new native widgets from Google and Apple we have to wait that the Flutter team adds them.</p><p>And that&rsquo;s why <strong>Kotlin Multiplatform</strong> is interesting. As stated in the <a href=https://kotlinlang.org/docs/reference/multiplatform.html>documentation</a>:</p><blockquote><p>&ldquo;multiplatform is not about compiling all code for all platforms&rdquo;</p></blockquote><p>In fact, every platform has its uniqueness, different behaviors and it&rsquo;s very difficult to find a common pattern that &ldquo;unifies the differences&rdquo;. So the solution that Kotlin Multiplatform provides is the possibility to share some part of the code, for example, the business logic, the data persistence layer, the network layer, etc.</p><blockquote><p>tl;dr; share as much [NO UI] code as possible.</p></blockquote><p>But, if you need to access platform-specific code (and it happens in the business logic, for example, the SQL driver), you can use the <a href=https://kotlinlang.org/docs/reference/platform-specific-declarations.html><em>expected/actual</em></a> mechanism. In this way, a common module can define expected declarations, and a platform module can provide actual declarations corresponding to the expected ones.</p><p>So, since the solution to the cross-platform problem is not to share UI code, do I need to ditch solutions like React Native and Flutter?</p><h2 id=what-to-use-now>What to use now?<a hidden class=anchor aria-hidden=true href=#what-to-use-now>#</a></h2><p>Well Well, no.</p><blockquote><p><em>Every solution can be used and it&rsquo;s useful in different situations</em>.</p></blockquote><p>For example, for a short span application, i.e. an app for a conference, for a concert, a festival, an event, etc., using a cross-platform solution like Flutter or React Native is a good idea. In fact, you need to develop in a (usually) short time an app that will be used by the attendees that use different platforms for a limited amount of time.</p><blockquote><p>When you need a short time to market and maintenance/longevity are not important, go cross-platform</p></blockquote><p>Another example is when you have an idea and you want to validate it in the market (aka doing an MVP - Minimum Viable Product). In this stage, velocity is the key: you need to prove as fast as you can that your idea fits in the market. So, going with a cross-platform solution is a good idea because you avoid wasting time and resources in developing for two different platforms. Of course, this is applicable if you want to cover all the platforms. If you have an idea iOS only, going cross-platform is no-sense.</p><blockquote><p>If you are developing an MVP, go cross-platform</p></blockquote><p>After a successful MVP stage, you found yourself with a proven idea and you need to build a product that can scale. So, you need a proper structure, scalable, testable, and easily maintainable. And inevitable at this point you will have some tech debt for the rush and quick decision taken during the MVP phase. Potentially you&rsquo;ll need to rewrite the two clients with a native solution, without &ldquo;hacky&rdquo; solutions because after proving that &ldquo;it can work&rdquo;, you have to prove that &ldquo;it can scale&rdquo;. (For a deeper analysis about tech choices in an early-stage startup, look <a href=https://giansegato.com/essays/a-technical-framework-for-early-stage-startups/>to the article written by my friend Gian.</a>)</p><blockquote><p>Switch to native if you have issues on scaling</p></blockquote><p>In this situation, <strong>Kotlin Multiplatform</strong> can be really useful.
With two native applications, with platform-specific UI code, sharing the common business logic code is a good solution. In fact, you can write it one and test it once without any dependencies from the native platform.</p><h2 id=the-perfect-recipe>The perfect recipe?<a hidden class=anchor aria-hidden=true href=#the-perfect-recipe>#</a></h2><p>Unfortunately, there isn&rsquo;t a perfect recipe. Every project has its peculiar characteristics and could be very hard to find the perfect solution. One project can work perfectly with a cross-platform solution while another can be a big big pain.</p><blockquote><p>Choosing the right technology is part of the game.</p></blockquote><p>An important point to keep in mind is that if the experience with a particular choice is not successful as expected, you must have the consciousness to admit the defeat and try another solution (I know, it&rsquo;s not easy).</p><p>I hope that by sharing my experience, I will help you to make a great decision. If you want to share your considerations, feel free to reach me out on Twitter <a href=https://twitter.com/marcoGomier>@marcoGomier</a>.</p></div><div class=article-footer><div class=post-content>To stay up to date with my writing and my projects, follow me on <a href=https://androiddev.social/@marcogom target=_blank>Mastodon</a> or <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.marcogomiero.com>Marco Gomiero</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>