<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>My 2 Cents about cross-platform - Marco Gomiero</title><meta name=Description content="Software Engineer Â· Google Developer Expert for Kotlin"><meta property="og:title" content="My 2 Cents about cross-platform"><meta property="og:description" content="During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.
 Disclaimer: in this article, I will share some opinions based on my experience and they can apply to your situation or not."><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-08-04T00:00:00+00:00"><meta property="article:modified_time" content="2020-08-04T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="My 2 Cents about cross-platform"><meta name=twitter:description content="During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.
 Disclaimer: in this article, I will share some opinions based on my experience and they can apply to your situation or not."><meta name=application-name content="Marco Gomiero"><meta name=apple-mobile-web-app-title content="Marco Gomiero"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/><link rel=prev href=https://www.marcogomiero.com/posts/2020/qr-reader-secure-release/><link rel=next href=https://www.marcogomiero.com/posts/2020/kmm-shared-app-architecture/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"My 2 Cents about cross-platform","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.marcogomiero.com\/posts\/2020\/my-2cents-cross-platform\/"},"image":["https:\/\/www.marcogomiero.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","wordcount":1431,"url":"https:\/\/www.marcogomiero.com\/posts\/2020\/my-2cents-cross-platform\/","datePublished":"2020-08-04T00:00:00+00:00","dateModified":"2020-08-04T00:00:00+00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Marco Gomiero"},"author":{"@type":"Person","name":"Marco Gomiero"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Marco Gomiero">Marco Gomiero</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts>Posts </a><a class=menu-item href=/talks>Talks </a><a class=menu-item href=/projects>Projects </a><a class=menu-item href=/about-me>About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Marco Gomiero">Marco Gomiero</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts title>Posts</a><a class=menu-item href=/talks title>Talks</a><a class=menu-item href=/projects title>Projects</a><a class=menu-item href=/about-me title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel=stylesheet><main class=main><div class=container><article class="page single"><h1 class=single-title>My 2 Cents about cross-platform</h1><br><div class=post-meta><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="4 Aug 2020">4 Aug 2020</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1431 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;7 minutes&nbsp;</div></div><br><div class=content id=content><p>During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.</p><blockquote><p><strong>Disclaimer</strong>: in this article, I will share some opinions based on my experience and they can apply to your situation or not. If you want to share your considerations, feel free to reach me out on Twitter <a href=https://twitter.com/marcoGomier target=_blank rel="noopener noreffer">@marcoGomier</a>.</p></blockquote><h2 id=possible-solutions>Possible solutions</h2><p>Out in the wild, there are plenty of different cross-platform solutions. However, in this post, I will focus only on the most used (that are also ones that provide an experience as much close as the native one) and the most promising.</p><figure><img src=/img/2cents-cross/google-trend-cross.png alt=image><figcaption><p>Google Trends for the past 12 months. <em>Last update July 2020</em></p></figcaption></figure><p>First of all, I&rsquo;ve excluded all the solutions that use web technologies to render the app in a WebView (like <a href=https://cordova.apache.org/ target=_blank rel="noopener noreffer">Cordova</a> or <a href=https://ionicframework.com/ target=_blank rel="noopener noreffer">Ionic</a>) because they don&rsquo;t have adequate performances (And I haven&rsquo;t used them for this reason). The solutions on which I will focus are: React Native, Flutter, and Kotlin Multiplatform. (yes, there is also Xamarin but I never used it and it seems not so appealing in the community).</p><h3 id=react-native>React Native</h3><p>I&rsquo;ve used React Native in a production brownfield (a yet existing app with some feature developed with React Native. More info about brownfield: <a href=https://en.wikipedia.org/wiki/Brownfield_%28software_development%29 target=_blank rel="noopener noreffer">Wikipedia</a>) app (<a href=https://www.uniwhere.com/ target=_blank rel="noopener noreffer">Uniwhere</a> and we ditched it for performance reasons). I don&rsquo;t like it because I don&rsquo;t like Javascript and I prefer statically typed languages (yes I could use Typescript, but I prefer a nominative type system rather than a structural one).</p><h3 id=flutter>Flutter:</h3><p>I&rsquo;ve used Flutter in both pet projects (<a href=https://github.com/prof18/Friends-Tournament target=_blank rel="noopener noreffer">Friends Tournament</a>) and production apps. Flutter has better performances with complex layouts and UIs (For a complete comparison between Flutter and React Native, you can look <a href=https://www.marcogomiero.com/posts/2020/rn-flutter-dilemma-series/ target=_blank rel="noopener noreffer">to the series of articles that I&rsquo;ve written</a>) and uses Dart as language. Dart is a strongly typed language but the type can also be inferred. In just two words, I can say that Dart is a mixture of Javascript and an Object-Oriented language. So (as you may guess), if I have to choose between Flutter and React Native I will choose Flutter.</p><h3 id=kotlin-multiplatform>Kotlin Multiplatform</h3><p>I&rsquo;ve used Kotlin Multiplatform in both pet projects (not yet released) and production app (<a href=https://www.uniwhere.com/ target=_blank rel="noopener noreffer">Uniwhere</a>). Even if it is an experimental feature, it is stable enough to be used in production applications. Kotlin Multiplatform has a completely different approach to code sharing with respect to React Native and Flutter. Later on, I will explain why, but for the time being, all you need to know is that, with Kotlin Multiplatform, you will not share between the platform all the code but only some parts (for example the business logic, the network layer, the persistence layer, etc.)</p><h2 id=issue-with-cross-platform-solutions>Issue with cross-platform solutions</h2><p>The real bottleneck of every cross-platform framework is the UI code. Every solution tries to unify the UI declaration between two (or more) platforms that works differently under the hood.</p><p>React Native uses a &ldquo;bridge&rdquo; to create a connection between the native part of the application and the Javascript one, so it can be possible to call native code from the javascript part of the application and vice-versa. In this way, a React Component (for example a <code>&lt;Text></code>) will be mapped to a native component (a <code>TextView</code> on Android and <code>UILabel</code> on iOs).</p><p>Flutter instead draws the widgets by itself on a canvas, using Skia (an open-source 2D graphic library managed by Google and used by Chrome, Chrome OS, Android, Firefox, and many others).</p><blockquote><p>For a comparison of how Flutter and React Native works, you can look <a href=https://www.marcogomiero.com/posts/2020/rn-flutter-dilemma-3-under-hood/ target=_blank rel="noopener noreffer">to the third episode of the comparison series</a>.</p></blockquote><p>These approaches (of course) has pros and cons.</p><p>With the &ldquo;<strong>React Native solution</strong>&rdquo;, the pro is that the framework is transparent to OS changes: if Google or Apple decides to tweak the appearance of an existential widget, everything will work (or better, should) without any changes. The con instead is that there will be some delay due to the bridge initialization and the runtime translation needed to enable the communication between the Javascript part and the native one (you&rsquo;ll notice it with complex layouts).</p><p>With <strong>Flutter</strong> instead, everything is faster because there is not the time for the translation and the widgets are drawn in a canvas by Skia. The con is that the widgets are not the system one. Visually are the same but they are not the same. And if there will be new native widgets from Google and Apple we have to wait that the Flutter team adds them.</p><p>And that&rsquo;s why <strong>Kotlin Multiplatform</strong> is interesting. As stated in the <a href=https://kotlinlang.org/docs/reference/multiplatform.html target=_blank rel="noopener noreffer">documentation</a>:</p><blockquote><p>&ldquo;multiplatform is not about compiling all code for all platforms&rdquo;</p></blockquote><p>In fact, every platform has its uniqueness, different behaviors and it&rsquo;s very difficult to find a common pattern that &ldquo;unifies the differences&rdquo;. So the solution that Kotlin Multiplatform provides is the possibility to share some part of the code, for example, the business logic, the data persistence layer, the network layer, etc.</p><blockquote><p>tl;dr; share as much [NO UI] code as possible.</p></blockquote><p>But, if you need to access platform-specific code (and it happens in the business logic, for example, the SQL driver), you can use the <a href=https://kotlinlang.org/docs/reference/platform-specific-declarations.html target=_blank rel="noopener noreffer"><em>expected/actual</em></a> mechanism. In this way, a common module can define expected declarations, and a platform module can provide actual declarations corresponding to the expected ones.</p><p>So, since the solution to the cross-platform problem is not to share UI code, do I need to ditch solutions like React Native and Flutter?</p><h2 id=what-to-use-now>What to use now?</h2><p>Well Well, no.</p><blockquote><p><em>Every solution can be used and it&rsquo;s useful in different situations</em>.</p></blockquote><p>For example, for a short span application, i.e. an app for a conference, for a concert, a festival, an event, etc., using a cross-platform solution like Flutter or React Native is a good idea. In fact, you need to develop in a (usually) short time an app that will be used by the attendees that use different platforms for a limited amount of time.</p><blockquote><p>When you need a short time to market and maintenance/longevity are not important, go cross-platform</p></blockquote><p>Another example is when you have an idea and you want to validate it in the market (aka doing an MVP - Minimum Viable Product). In this stage, velocity is the key: you need to prove as fast as you can that your idea fits in the market. So, going with a cross-platform solution is a good idea because you avoid wasting time and resources in developing for two different platforms. Of course, this is applicable if you want to cover all the platforms. If you have an idea iOS only, going cross-platform is no-sense.</p><blockquote><p>If you are developing an MVP, go cross-platform</p></blockquote><p>After a successful MVP stage, you found yourself with a proven idea and you need to build a product that can scale. So, you need a proper structure, scalable, testable, and easily maintainable. And inevitable at this point you will have some tech debt for the rush and quick decision taken during the MVP phase. Potentially you&rsquo;ll need to rewrite the two clients with a native solution, without &ldquo;hacky&rdquo; solutions because after proving that &ldquo;it can work&rdquo;, you have to prove that &ldquo;it can scale&rdquo;. (For a deeper analysis about tech choices in an early-stage startup, look <a href=https://giansegato.com/essays/a-technical-framework-for-early-stage-startups/ target=_blank rel="noopener noreffer">to the article written by my friend Gian.</a>)</p><blockquote><p>Switch to native if you have issues on scaling</p></blockquote><p>In this situation, <strong>Kotlin Multiplatform</strong> can be really useful.
With two native applications, with platform-specific UI code, sharing the common business logic code is a good solution. In fact, you can write it one and test it once without any dependencies from the native platform.</p><h2 id=the-perfect-recipe>The perfect recipe?</h2><p>Unfortunately, there isn&rsquo;t a perfect recipe. Every project has its peculiar characteristics and could be very hard to find the perfect solution. One project can work perfectly with a cross-platform solution while another can be a big big pain.</p><blockquote><p>Choosing the right technology is part of the game.</p></blockquote><p>An important point to keep in mind is that if the experience with a particular choice is not successful as expected, you must have the consciousness to admit the defeat and try another solution (I know, it&rsquo;s not easy).</p><p>I hope that by sharing my experience, I will help you to make a great decision. If you want to share your considerations, feel free to reach me out on Twitter <a href=https://twitter.com/marcoGomier target=_blank rel="noopener noreffer">@marcoGomier</a>.</p></div><section style=width:90%;margin-left:auto;margin-right:auto;margin-top:30px;margin-bottom:30px><hr><div style=padding:25px><div class=content>To stay up to date with my writing and my projects, follow me on <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div><hr></section><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/ data-title="My 2 Cents about cross-platform" data-via=marcoGomier><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/ data-title="My 2 Cents about cross-platform"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/><i class="fab fa-reddit fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2020/qr-reader-secure-release/ class=prev rel=prev title="QR Reader Secure - Privacy-Focused and Secure QR Reader"><i class="fas fa-angle-left fa-fw"></i>QR Reader Secure - Privacy-Focused and Secure QR Reader</a>
<a href=/posts/2020/kmm-shared-app-architecture/ class=next rel=next title="Choosing the right architecture for a [new] Kotlin Multiplatform, Jetpack Compose and SwiftUI app">Choosing the right architecture for a [new] Kotlin Multiplatform, Jetpack Compose and SwiftUI app<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2017 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.marcogomiero.com/ target=_blank>Marco Gomiero</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:1e5},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-90975904-1 ',{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-90975904-1%20" async></script></body></html>