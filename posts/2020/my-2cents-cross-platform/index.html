<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>My 2 Cents about cross-platform | Marco Gomiero</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=Description content="Computer Engineer · Android Developer · Community Manager"><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><link rel=prev href=https://www.marcogomiero.com/posts/2020/qr-reader-secure-release/><link rel=next href=https://www.marcogomiero.com/posts/2020/kmm-shared-app-architecture/><link rel=canonical href=https://www.marcogomiero.com/posts/2020/my-2cents-cross-platform/><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary"><meta name=twitter:title content="My 2 Cents about cross-platform"><meta name=twitter:description content="During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.
 Disclaimer: in this article, I will share some opinions based on my experience and they can apply to your situation or not."><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"My 2 Cents about cross-platform","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.marcogomiero.com\/posts\/2020\/my-2cents-cross-platform\/"},"genre":"posts","keywords":"Cross Platform","wordcount":1435,"url":"https:\/\/www.marcogomiero.com\/posts\/2020\/my-2cents-cross-platform\/","datePublished":"2020-08-04T00:00:00\u002b00:00","dateModified":"2020-08-04T00:00:00\u002b00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","description":""}</script><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.10.1/css/all.min.css integrity="sha256-fdcFNFiBMrNfWL6OcAGQz6jDgNTRxnrLEd4vJYFWScE=" crossorigin=anonymous><link rel=stylesheet href=/css/lib/animate/animate.min.min.css><script async defer src=https://buttons.github.io/buttons.js></script></head><body><script>window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><nav class=navbar><div class=navbar-container><div class=navbar-header><a href=https://www.marcogomiero.com>Marco Gomiero</a></div><div class=navbar-menu><a class=menu-item href=https://www.marcogomiero.com/posts>Posts</a>
<a class=menu-item href=https://www.marcogomiero.com/talks>Talks</a>
<a class=menu-item href=https://www.marcogomiero.com/projects/>Projects</a>
<a class=menu-item href=https://www.marcogomiero.com/about-me/>About</a>
<a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a></div></div></nav><nav class=navbar-mobile><div class=navbar-container><div class=navbar-header><div class=navbar-header-title><a href=https://www.marcogomiero.com>Marco Gomiero</a></div><div class=menu-toggle id=menu-toggle><span></span><span></span><span></span></div></div><div class=navbar-menu id=mobile-menu><a class=menu-item href=https://www.marcogomiero.com/posts>Posts</a>
<a class=menu-item href=https://www.marcogomiero.com/talks>Talks</a>
<a class=menu-item href=https://www.marcogomiero.com/projects/>Projects</a>
<a class=menu-item href=https://www.marcogomiero.com/about-me/>About</a>
<a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a></div></div></nav><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel=stylesheet><main class=main><div class=container><article class=post-warp><h1 class=post-title>My 2 Cents about cross-platform</h1><div class=post-meta><div class=post-meta-main><br></div><div class=post-meta-other><i class="far fa-calendar-alt fa-fw"></i><time datetime="4 Aug 2020">4 Aug 2020</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 1435 words&nbsp;
<i class="far fa-clock fa-fw"></i>7 min&nbsp;</div></div><br><div class=post-content><p>During my journey as a mobile developer, I had the chance to try and give a look at some cross-platform solutions both for work and fun reasons. Today, I want to share my thoughts and considerations about them and why/when you should use cross-platform. I hope that these thoughts will be helpful to anyone that is in the process of choosing the right solution for their product.</p><blockquote><p><strong>Disclaimer</strong>: in this article, I will share some opinions based on my experience and they can apply to your situation or not. If you want to share your considerations, feel free to drop a comment below or tweet me <a href=https://twitter.com/marcoGomier>@marcoGomier</a></p></blockquote><a class=post-dummy-target id=possible-solutions></a><h2>Possible solutions</h2><p>Out in the wild, there are plenty of different cross-platform solutions. However, in this post, I will focus only on the most used (that are also ones that provide an experience as much close as the native one) and the most promising.</p><figure><img src=/img/2cents-cross/google-trend-cross.png alt=image><figcaption><p>Google Trends for the past 12 months. <em>Last update July 2020</em></p></figcaption></figure><p>First of all, I&rsquo;ve excluded all the solutions that use web technologies to render the app in a WebView (like <a href=https://cordova.apache.org/>Cordova</a> or <a href=https://ionicframework.com/>Ionic</a>) because they don&rsquo;t have adequate performances (And I haven&rsquo;t used them for this reason). The solutions on which I will focus are: React Native, Flutter, and Kotlin Multiplatform. (yes, there is also Xamarin but I never used it and it seems not so appealing in the community).</p><a class=post-dummy-target id=react-native></a><h3>React Native</h3><p>I&rsquo;ve used React Native in a production brownfield (a yet existing app with some feature developed with React Native. More info about brownfield: <a href=https://en.wikipedia.org/wiki/Brownfield_(software_development)>Wikipedia</a>) app (<a href=https://www.uniwhere.com/>Uniwhere</a> and we ditched it for performance reasons). I don&rsquo;t like it because I don&rsquo;t like Javascript and I prefer statically typed languages (yes I could use Typescript, but I prefer a nominative type system rather than a structural one).</p><a class=post-dummy-target id=flutter></a><h3>Flutter:</h3><p>I&rsquo;ve used Flutter in both pet projects (<a href=https://github.com/prof18/Friends-Tournament>Friends Tournament</a>) and production apps. Flutter has better performances with complex layouts and UIs (For a complete comparison between Flutter and React Native, you can look <a href=https://www.marcogomiero.com/posts/2020/rn-flutter-dilemma-series/>to the series of articles that I&rsquo;ve written</a>) and uses Dart as language. Dart is a strongly typed language but the type can also be inferred. In just two words, I can say that Dart is a mixture of Javascript and an Object-Oriented language. So (as you may guess), if I have to choose between Flutter and React Native I will choose Flutter.</p><a class=post-dummy-target id=kotlin-multiplatform></a><h3>Kotlin Multiplatform</h3><p>I&rsquo;ve used Kotlin Multiplatform in both pet projects (not yet released) and production app (<a href=https://www.uniwhere.com/>Uniwhere</a>). Even if it is an experimental feature, it is stable enough to be used in production applications. Kotlin Multiplatform has a completely different approach to code sharing with respect to React Native and Flutter. Later on, I will explain why, but for the time being, all you need to know is that, with Kotlin Multiplatform, you will not share between the platform all the code but only some parts (for example the business logic, the network layer, the persistence layer, etc.)</p><a class=post-dummy-target id=issue-with-cross-platform-solutions></a><h2>Issue with cross-platform solutions</h2><p>The real bottleneck of every cross-platform framework is the UI code. Every solution tries to unify the UI declaration between two (or more) platforms that works differently under the hood.</p><p>React Native uses a &ldquo;bridge&rdquo; to create a connection between the native part of the application and the Javascript one, so it can be possible to call native code from the javascript part of the application and vice-versa. In this way, a React Component (for example a <code>&lt;Text></code>) will be mapped to a native component (a <code>TextView</code> on Android and <code>UILabel</code> on iOs).</p><p>Flutter instead draws the widgets by itself on a canvas, using Skia (an open-source 2D graphic library managed by Google and used by Chrome, Chrome OS, Android, Firefox, and many others).</p><blockquote><p>For a comparison of how Flutter and React Native works, you can look <a href=https://www.marcogomiero.com/posts/2020/rn-flutter-dilemma-3-under-hood/>to the third episode of the comparison series</a>.</p></blockquote><p>These approaches (of course) has pros and cons.</p><p>With the &ldquo;<strong>React Native solution</strong>&rdquo;, the pro is that the framework is transparent to OS changes: if Google or Apple decides to tweak the appearance of an existential widget, everything will work (or better, should) without any changes. The con instead is that there will be some delay due to the bridge initialization and the runtime translation needed to enable the communication between the Javascript part and the native one (you&rsquo;ll notice it with complex layouts).</p><p>With <strong>Flutter</strong> instead, everything is faster because there is not the time for the translation and the widgets are drawn in a canvas by Skia. The con is that the widgets are not the system one. Visually are the same but they are not the same. And if there will be new native widgets from Google and Apple we have to wait that the Flutter team adds them.</p><p>And that&rsquo;s why <strong>Kotlin Multiplatform</strong> is interesting. As stated in the <a href=https://kotlinlang.org/docs/reference/multiplatform.html>documentation</a>:</p><blockquote><p>&ldquo;multiplatform is not about compiling all code for all platforms&rdquo;</p></blockquote><p>In fact, every platform has its uniqueness, different behaviors and it&rsquo;s very difficult to find a common pattern that &ldquo;unifies the differences&rdquo;. So the solution that Kotlin Multiplatform provides is the possibility to share some part of the code, for example, the business logic, the data persistence layer, the network layer, etc.</p><blockquote><p>tl;dr; share as much [NO UI] code as possible.</p></blockquote><p>But, if you need to access platform-specific code (and it happens in the business logic, for example, the SQL driver), you can use the <a href=https://kotlinlang.org/docs/reference/platform-specific-declarations.html><em>expected/actual</em></a> mechanism. In this way, a common module can define expected declarations, and a platform module can provide actual declarations corresponding to the expected ones.</p><p>So, since the solution to the cross-platform problem is not to share UI code, do I need to ditch solutions like React Native and Flutter?</p><a class=post-dummy-target id=what-to-use-now></a><h2>What to use now?</h2><p>Well Well, no.</p><blockquote><p><em>Every solution can be used and it&rsquo;s useful in different situations</em>.</p></blockquote><p>For example, for a short span application, i.e. an app for a conference, for a concert, a festival, an event, etc., using a cross-platform solution like Flutter or React Native is a good idea. In fact, you need to develop in a (usually) short time an app that will be used by the attendees that use different platforms for a limited amount of time.</p><blockquote><p>When you need a short time to market and maintenance/longevity are not important, go cross-platform</p></blockquote><p>Another example is when you have an idea and you want to validate it in the market (aka doing an MVP - Minimum Viable Product). In this stage, velocity is the key: you need to prove as fast as you can that your idea fits in the market. So, going with a cross-platform solution is a good idea because you avoid wasting time and resources in developing for two different platforms. Of course, this is applicable if you want to cover all the platforms. If you have an idea iOS only, going cross-platform is no-sense.</p><blockquote><p>If you are developing an MVP, go cross-platform</p></blockquote><p>After a successful MVP stage, you found yourself with a proven idea and you need to build a product that can scale. So, you need a proper structure, scalable, testable, and easily maintainable. And inevitable at this point you will have some tech debt for the rush and quick decision taken during the MVP phase. Potentially you&rsquo;ll need to rewrite the two clients with a native solution, without &ldquo;hacky&rdquo; solutions because after proving that &ldquo;it can work&rdquo;, you have to prove that &ldquo;it can scale&rdquo;. (For a deeper analysis about tech choices in an early-stage startup, look <a href=https://giansegato.com/essays/a-technical-framework-for-early-stage-startups/>to the article written by my friend Gian.</a>)</p><blockquote><p>Switch to native if you have issues on scaling</p></blockquote><p>In this situation, <strong>Kotlin Multiplatform</strong> can be really useful.
With two native applications, with platform-specific UI code, sharing the common business logic code is a good solution. In fact, you can write it one and test it once without any dependencies from the native platform.</p><a class=post-dummy-target id=the-perfect-recipe></a><h2>The perfect recipe?</h2><p>Unfortunately, there isn&rsquo;t a perfect recipe. Every project has its peculiar characteristics and could be very hard to find the perfect solution. One project can work perfectly with a cross-platform solution while another can be a big big pain.</p><blockquote><p>Choosing the right technology is part of the game.</p></blockquote><p>An important point to keep in mind is that if the experience with a particular choice is not successful as expected, you must have the consciousness to admit the defeat and try another solution (I know, it&rsquo;s not easy).</p><p>I hope that by sharing my experience, I will help you to make a great decision. If you want to share your considerations, feel free to drop a comment below or tweet me <a href=https://twitter.com/marcoGomier>@marcoGomier</a></p></div><section style=width:90%;margin-left:auto;margin-right:auto;margin-top:30px;margin-bottom:30px><hr><div style=padding:25px><div>Keep up to date with my writings and my projects by subscribing to my newsletter. I mostly write about mobile development, with a focus on Kotlin Multiplatform and declarative patterns. And don't worry, I will not DDoS your inbox. I'll only write when something new & interesting comes up:</div><form style=padding-bottom:20px action=https://tinyletter.com/marcogomiero method=post target=popupwindow onsubmit="window.open('https://tinyletter.com/marcogomiero','popupwindow','scrollbars=yes,width=800,height=600');return true;"><p><input type=email style="width:80%;border:1px solid #e0e0e0;border-radius:2px;color:#5c5e60;background-color:#fff;height:57px;padding-left:15px" name=email id=tlemail placeholder="Your email address"></p><input type=hidden value=1 name=embed>
<input type=submit value=Subscribe class=button></form></div><hr></section><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href="//twitter.com/share?url=https%3a%2f%2fwww.marcogomiero.com%2fposts%2f2020%2fmy-2cents-cross-platform%2f&text=My%202%20Cents%20about%20cross-platform&via=marcoGomier" target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-fw"></i></a><a href="//reddit.com/submit?url=https%3a%2f%2fwww.marcogomiero.com%2fposts%2f2020%2fmy-2cents-cross-platform%2f&title=My%202%20Cents%20about%20cross-platform" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-fw"></i></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.marcogomiero.com%2fposts%2f2020%2fmy-2cents-cross-platform%2f&title=My%202%20Cents%20about%20cross-platform" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin fa-fw"></i></a></span></div></div></div><div class=post-info-more><section><span class=tag><a href=https://www.marcogomiero.com/tags/cross-platform/><i class="fas fa-tag fa-fw"></i>Cross Platform</a></span></section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=https://www.marcogomiero.com>Home</a></span></section></div><div class=post-nav><a href=https://www.marcogomiero.com/posts/2020/qr-reader-secure-release/ class=prev rel=prev title="QR Reader Secure - Privacy-Focused and Secure QR Reader"><i class="fas fa-angle-left fa-fw"></i>QR Reader Secure - Privacy-Focused and Secure QR Reader</a>
<a href=https://www.marcogomiero.com/posts/2020/kmm-shared-app-architecture/ class=next rel=next title="Choosing the right architecture for a [new] Kotlin Multiplatform, Jetpack Compose and SwiftUI app">Choosing the right architecture for a [new] Kotlin Multiplatform, Jetpack Compose and SwiftUI app<i class="fas fa-angle-right fa-fw"></i></a></div></div><div class=post-comment><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")
return;var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;var disqus_shortname="marcogomiero";dsq.src="//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2017 - 2020</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.marcogomiero.com>Marco Gomiero</a></span></div><br></div></footer><script src=/js/lib/jquery/jquery.slim.min.min.js></script><script src=/js/lib/lazysizes/lazysizes.min.min.js></script><script src=/js/lib/smooth-scroll/smooth-scroll.polyfills.min.min.js></script><script>window.scroll=new SmoothScroll('[data-scroll]',{speed:300,speedAsDuration:true});</script><script src=/js/blog.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-90975904-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></div><a href=# class=dynamic-to-top id=dynamic-to-top data-scroll><span>&nbsp;</span></a></body></html>