<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>How to create a parameterized base test class in Kotlin - Marco Gomiero</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="One exciting feature of JUnit 4 (and 5 as well, but this post will be focused on JUnit 4) is the possibility of running the same test with different input arguments.
That is made possible by a custom test runner called Parameterized, which will inject the provided arguments in the constructor of the test class. Instead, the different arguments must be defined in the companion object of the test class."><meta property="og:image" content><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><meta property="og:title" content="How to create a parameterized base test class in Kotlin"><meta property="og:description" content="One exciting feature of JUnit 4 (and 5 as well, but this post will be focused on JUnit 4) is the possibility of running the same test with different input arguments.
That is made possible by a custom test runner called Parameterized, which will inject the provided arguments in the constructor of the test class. Instead, the different arguments must be defined in the companion object of the test class."><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2023/parameterized-kotlin-base-test/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-31T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-31T00:00:00+00:00"><meta property="og:site_name" content="Marco Gomiero"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to create a parameterized base test class in Kotlin"><meta name=twitter:description content="One exciting feature of JUnit 4 (and 5 as well, but this post will be focused on JUnit 4) is the possibility of running the same test with different input arguments.
That is made possible by a custom test runner called Parameterized, which will inject the provided arguments in the constructor of the test class. Instead, the different arguments must be defined in the companion object of the test class."><script async src="https://www.googletagmanager.com/gtag/js?id=G-69FZ1TLE7E"></script>
<script>var doNotTrack=!1,dnt;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-69FZ1TLE7E")}</script><script src=https://www.marcogomiero.com/js/feather.min.js></script>
<link href="https://fonts.googleapis.com/css?family=JetBrains+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.marcogomiero.com/css/main.f2c7f60ec2d0155a784ade9b1b272143e1b8eb864a95bf75e606b49d8774389e.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://www.marcogomiero.com/css/dark.26c5bf79ef760a8f4feb8fc7be32ec86fc1f1da292b42c9fcc37879d4f774e3f.css disabled></head><body><div class=content><header><div class=main><a href=https://www.marcogomiero.com><h2>Marco Gomiero</h2></a></div><nav class=navbar><a href=/posts/><span>Write</span></a>
<a href=/talks/><span>Speak</span></a>
<a href=/projects/><span>Build</span></a>
<a href=/about-me/><span>About</span></a>
| <span class=dark-mode-toggle id=dark-mode-toggle onclick=toggleTheme()></span>
<script src=https://www.marcogomiero.com/js/themetoggle.js></script></nav></header><main><article><div class=title><h1 class=title>How to create a parameterized base test class in Kotlin</h1><div class=post-meta><span title='2023-01-31 00:00:00 +0000 UTC'>31 January 2023</span></div></div><section class=body><span class=raw-html><a href=https://androidweekly.net/issues/issue-556><img style=margin:0 src=https://androidweekly.net/issues/issue-556/badge></a><br></span><p>One exciting feature of JUnit 4 (and 5 as well, but this post will be focused on JUnit 4) is the possibility of running the same test with different input arguments.</p><p>That is made possible by a <a href=https://github.com/junit-team/junit4/wiki/parameterized-tests>custom test runner</a> called <code>Parameterized</code>, which will inject the provided arguments in the constructor of the test class. Instead, the different arguments must be defined in the companion object of the test class.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#ff9f43>@RunWith</span>(Parameterized<span style=color:#ff6ac1>::</span><span style=color:#ff6ac1>class</span>)  
</span></span><span style=display:flex><span><span style=color:#ff6ac1>class</span> <span style=color:#f3f99d>KotlinVersionTest</span>(<span style=color:#ff6ac1>val</span> kotlinVersion: String) {  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Test</span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>`Kotlin version is correct`</span>() {  
</span></span><span style=display:flex><span>        assertTrue(kotlinVersion.contains(<span style=color:#5af78e>&#34;1.7&#34;</span>))  
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>companion</span> <span style=color:#ff6ac1>object</span> {  
</span></span><span style=display:flex><span>        <span style=color:#ff9f43>@JvmStatic</span>  
</span></span><span style=display:flex><span>        <span style=color:#ff9f43>@Parameterized</span>.Parameters(name = <span style=color:#5af78e>&#34;with kotlinVersion {0}&#34;</span>)  
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>data</span>() = listOf(  
</span></span><span style=display:flex><span>            <span style=color:#5af78e>&#34;1.7.0&#34;</span>,  
</span></span><span style=display:flex><span>            <span style=color:#5af78e>&#34;1.7.10&#34;</span>,  
</span></span><span style=display:flex><span>            <span style=color:#5af78e>&#34;1.7.20&#34;</span>,  
</span></span><span style=display:flex><span>            <span style=color:#5af78e>&#34;1.7.21&#34;</span>,  
</span></span><span style=display:flex><span>        )  
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>However, in some situations, having a base test class helps set up a shared test environment.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#ff6ac1>open</span> <span style=color:#ff6ac1>class</span> <span style=color:#f3f99d>BaseTest</span> {  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>lateinit</span> <span style=color:#ff6ac1>var</span> kotlinFeatures: KotlinFeatures  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Before</span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>open</span> <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>setup</span>() {  
</span></span><span style=display:flex><span>        kotlinFeatures = KotlinFeatures(kotlinVersion = <span style=color:#5af78e>&#34;1.7.0&#34;</span>)  
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@After</span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>cleanUp</span>() {  
</span></span><span style=display:flex><span>       <span style=color:#78787e>// Cleaning up stuff  
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>    }   
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#ff6ac1>class</span> <span style=color:#f3f99d>KotlinVersionParameterizedTest</span> {  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Test</span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>`When the Kotlin version is 1_7_0, getNewFeatures returns the correct data`</span>() {  
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>val</span> kotlinFeatures = KotlinFeatures(kotlinVersion = <span style=color:#5af78e>&#34;1.7.0&#34;</span>)  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>        assertNotNull(kotlinFeatures)  
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>But what if <code>KotlinFeatures</code> needs to be tested with multiple <code>kotlinVersion</code>?</p><p>The <code>BaseTest</code> can be modified with a constructor that accepts an argument and a companion object that contains all the arguments required for the test.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#ff6ac1>open</span> <span style=color:#ff6ac1>class</span> <span style=color:#f3f99d>BaseTest</span>(  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>private</span> <span style=color:#ff6ac1>val</span> kotlinVersion: String,  
</span></span><span style=display:flex><span>) {  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>lateinit</span> <span style=color:#ff6ac1>var</span> kotlinFeatures: KotlinFeatures  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Before</span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>open</span> <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>setup</span>() {  
</span></span><span style=display:flex><span>        kotlinFeatures = KotlinFeatures(kotlinVersion = kotlinVersion)  
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@After</span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>cleanUp</span>() {  
</span></span><span style=display:flex><span>       <span style=color:#78787e>// Cleaning up stuff  
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>    }  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>companion</span> <span style=color:#ff6ac1>object</span> {  
</span></span><span style=display:flex><span>        <span style=color:#ff9f43>@JvmStatic</span>  
</span></span><span style=display:flex><span>        <span style=color:#ff9f43>@Parameterized</span>.Parameters(name = <span style=color:#5af78e>&#34;with kotlinVersion {0}&#34;</span>)  
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>data</span>() = listOf(  
</span></span><span style=display:flex><span>            <span style=color:#5af78e>&#34;1.7.0&#34;</span>,  
</span></span><span style=display:flex><span>            <span style=color:#5af78e>&#34;1.7.10&#34;</span>,  
</span></span><span style=display:flex><span>        )  
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The test classes can now implement the <code>BaseTest</code> and run with the <code>Parameterized</code> test runner. It is only necessary to pass the argument to the Base Class&rsquo;s constructor.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#ff9f43>@RunWith</span>(Parameterized<span style=color:#ff6ac1>::</span><span style=color:#ff6ac1>class</span>)  
</span></span><span style=display:flex><span><span style=color:#ff6ac1>class</span> <span style=color:#f3f99d>KotlinVersionParameterizedBaseTest</span>(kotlinVersion: String): BaseTest(kotlinVersion) {  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Test</span>  
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>`getNewFeatures returns some data`</span>() {  
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>val</span> newFeatures = kotlinFeatures.getNewFeatures()  
</span></span><span style=display:flex><span>        assertNotNull(newFeatures)  
</span></span><span style=display:flex><span>    }  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>And thatâ€™s all! This way, running the same tests with different arguments and a shared configuration will be possible.</p><figure><a href=/img/parameterized-base-test-kotiln/parameterized-test-result.png><img src=/img/parameterized-base-test-kotiln/parameterized-test-result.png></a></figure></section><div class=article-footer><div class=body>To stay up to date with my writing and my projects, follow me on <a href=https://bsky.app/profile/marcogomiero.com target=_blank>Bluesky</a>, <a href=https://androiddev.social/@marcogom target=_blank>Mastodon</a> or <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.marcogomiero.com>Marco Gomiero</a></span></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-69FZ1TLE7E"></script>
<script>var doNotTrack=!1,dnt;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-69FZ1TLE7E")}</script></div></body></html>