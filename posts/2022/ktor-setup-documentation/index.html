<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Generate API documentation from Swagger on Ktor - Marco Gomiero</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="SERIES: Building a backend with Ktor
Part 1: Structuring a Ktor project Part 2: How to persist Ktor logs Part 3: How to use an in-memory database for testing on Ktor Part 4: How to handle database migrations with Liquibase on Ktor Part 5: Generate API documentation from Swagger on Ktor Part 6: How to schedule jobs with Quartz on Ktor Part 7: Moving from mobile to backend development with Ktor When a backend project exposes some APIs, there should also be a place where the clients of those APIs can see and understand what can be consumed."><meta property="og:image" content><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><meta property="og:title" content="Generate API documentation from Swagger on Ktor"><meta property="og:description" content="SERIES: Building a backend with Ktor
Part 1: Structuring a Ktor project Part 2: How to persist Ktor logs Part 3: How to use an in-memory database for testing on Ktor Part 4: How to handle database migrations with Liquibase on Ktor Part 5: Generate API documentation from Swagger on Ktor Part 6: How to schedule jobs with Quartz on Ktor Part 7: Moving from mobile to backend development with Ktor When a backend project exposes some APIs, there should also be a place where the clients of those APIs can see and understand what can be consumed."><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2022/ktor-setup-documentation/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-22T00:00:00+00:00"><meta property="article:modified_time" content="2022-03-22T00:00:00+00:00"><meta property="og:site_name" content="Marco Gomiero"><meta name=twitter:card content="summary"><meta name=twitter:title content="Generate API documentation from Swagger on Ktor"><meta name=twitter:description content="SERIES: Building a backend with Ktor
Part 1: Structuring a Ktor project Part 2: How to persist Ktor logs Part 3: How to use an in-memory database for testing on Ktor Part 4: How to handle database migrations with Liquibase on Ktor Part 5: Generate API documentation from Swagger on Ktor Part 6: How to schedule jobs with Quartz on Ktor Part 7: Moving from mobile to backend development with Ktor When a backend project exposes some APIs, there should also be a place where the clients of those APIs can see and understand what can be consumed."><script async src="https://www.googletagmanager.com/gtag/js?id=G-69FZ1TLE7E"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-69FZ1TLE7E",{anonymize_ip:!1})}</script><script src=https://www.marcogomiero.com/js/feather.min.js></script>
<link href="https://fonts.googleapis.com/css?family=JetBrains+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.marcogomiero.com/css/main.f2c7f60ec2d0155a784ade9b1b272143e1b8eb864a95bf75e606b49d8774389e.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://www.marcogomiero.com/css/dark.26c5bf79ef760a8f4feb8fc7be32ec86fc1f1da292b42c9fcc37879d4f774e3f.css disabled></head><body><div class=content><header><div class=main><a href=https://www.marcogomiero.com><h2>Marco Gomiero</h2></a></div><nav class=navbar><a href=/posts/><span>Write</span></a>
<a href=/talks/><span>Speak</span></a>
<a href=/projects/><span>Build</span></a>
<a href=/about-me/><span>About</span></a>
| <span class=dark-mode-toggle id=dark-mode-toggle onclick=toggleTheme()></span>
<script src=https://www.marcogomiero.com/js/themetoggle.js></script></nav></header><main><article><div class=title><h1 class=title>Generate API documentation from Swagger on Ktor</h1><div class=post-meta><span title='2022-03-22 00:00:00 +0000 UTC'>22 March 2022</span></div></div><section class=body><blockquote><p><strong>SERIES: Building a backend with Ktor</strong></p><ul><li>Part 1: <a href=https://www.marcogomiero.com/posts/2021/ktor-project-structure/>Structuring a Ktor project</a></li><li>Part 2: <a href=https://www.marcogomiero.com/posts/2021/ktor-logging-on-disk/>How to persist Ktor logs</a></li><li>Part 3: <a href=https://www.marcogomiero.com/posts/2021/ktor-in-memory-db-testing/>How to use an in-memory database for testing on Ktor</a></li><li>Part 4: <a href=https://www.marcogomiero.com/posts/2022/ktor-migration-liquibase/>How to handle database migrations with Liquibase on Ktor</a></li><li>Part 5: Generate API documentation from Swagger on Ktor</li><li>Part 6: <a href=https://www.marcogomiero.com/posts/2022/ktor-jobs-quartz/>How to schedule jobs with Quartz on Ktor</a></li><li>Part 7: <a href=https://www.marcogomiero.com/posts/2022/backend-from-mobile-ktor/>Moving from mobile to backend development with Ktor</a></li></ul></blockquote><p>When a backend project exposes some APIs, there should also be a place where the clients of those APIs can see and understand what can be consumed. This place can be a document, a text file, a website, etc.</p><p>In this article, I will show how to automatically generate and expose a website with the APIs that a Ktor project supports. The website is generated from OpenAPI (also called Swagger) definitions. To do that, the <a href=https://github.com/int128/gradle-swagger-generator-plugin>Gradle Swagger Generator Plugin</a> will be used.</p><p>This post is part of a series of posts dedicated to Ktor where I cover all the topics that made me struggle during development and that was not easy to achieve out of the box. You can check out the other instances of the series in the index above or <a href=https://twitter.com/marcoGomier>follow me on Twitter</a> to keep up to date.</p><h2 id=setup>Setup</h2><p>The first thing to do is to add the <a href=https://github.com/int128/gradle-swagger-generator-plugin>Gradle Swagger Generator Plugin</a> in the <code>build.gradle.kts</code> file.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span>plugins {
</span></span><span style=display:flex><span>	id(<span style=color:#5af78e>&#34;org.hidetake.swagger.generator&#34;</span>) version <span style=color:#5af78e>&#34;&lt;version-number&gt;&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The documentation will be generated using the <a href=https://github.com/Redocly/redoc>ReDoc tool</a> and the UI will look like <a href=https://int128.github.io/gradle-swagger-generator-plugin/examples/redoc/>this example</a>.</p><p>The Gradle task that will generate the documentation is called <code>generateReDoc</code> and it requires some configuration.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span>tasks.generateReDoc.configure {
</span></span><span style=display:flex><span>    inputFile = <span style=color:#ff6ac1>file</span>(<span style=color:#5af78e>&#34;&lt;swagger-file-path&gt;&#34;</span>)
</span></span><span style=display:flex><span>    outputDir = <span style=color:#ff6ac1>file</span>(<span style=color:#5af78e>&#34;&lt;output-path&gt;&#34;</span>)
</span></span><span style=display:flex><span>    title = <span style=color:#5af78e>&#34;Api Doc&#34;</span>
</span></span><span style=display:flex><span>    options = mapOf(
</span></span><span style=display:flex><span>        <span style=color:#5af78e>&#34;spec-url&#34;</span> to <span style=color:#5af78e>&#34;&lt;swagger-url&gt;&#34;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The parameters that Iâ€™ve provided are the following, but you can find more <a href=https://github.com/int128/gradle-swagger-generator-plugin#task-type-generateredoc>in the documentation</a>:</p><ul><li><code>inputFile</code> -> the Swagger specification file;</li><li><code>outputDir</code> -> the directory where to write the generated documentation;</li><li><code>title</code> -> the HTML title for the documentation;</li><li><code>options</code> -> a map of strings to provide <code>ReDoc tag attributes</code>. The <code>spec-url</code> is the URL or the local file address to the Swagger definition.</li></ul><p>At this point, it is possible to run the Gradle task to generate the documentation.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./gradlew generateReDoc
</span></span></code></pre></div><p>However, to avoid forgetting to update the documentation between different releases, I suggest making the task run after the build one.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span>tasks.build {
</span></span><span style=display:flex><span>	doLast {
</span></span><span style=display:flex><span>		tasks.generateReDoc.<span style=color:#ff6ac1>get</span>().exec()
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=expose-the-documentation>Expose the documentation</h2><p>To access the documentation, it is necessary to expose it. Ktor gives the possibility to <a href=https://ktor.io/docs/serving-static-content.html>serve static content</a>.</p><p>The files to serve should be placed inside the resources folder. In this case, Iâ€™ve decided to create two custom folders: one called <code>doc</code> for the output files (that consist of an HTML and a Swagger file) and one called <code>swagger</code> for the input Swagger definition.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>â””â”€â”€ src
</span></span><span style=display:flex><span>    â”œâ”€â”€ main
</span></span><span style=display:flex><span>     Â Â  â””â”€â”€ resources
</span></span><span style=display:flex><span>     Â Â      â”œâ”€â”€ doc
</span></span><span style=display:flex><span>     Â Â      â”‚Â Â  â”œâ”€â”€ index.html
</span></span><span style=display:flex><span>     Â Â      â”‚Â Â  â””â”€â”€ swagger.yml
</span></span><span style=display:flex><span>     Â Â      â””â”€â”€ swagger
</span></span><span style=display:flex><span>     Â Â          â””â”€â”€ swagger.yml
</span></span></code></pre></div><p>As a reference, the <code>inputFile</code> and the <code>outputFile</code> parameters of the <code>generateReDoc</code> will look like that:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span>tasks.generateReDoc.configure {
</span></span><span style=display:flex><span>	inputFile = <span style=color:#ff6ac1>file</span>(<span style=color:#5af78e>&#34;</span><span style=color:#5af78e>$rootDir</span><span style=color:#5af78e>/src/main/resources/swagger/swagger.yml&#34;</span>)
</span></span><span style=display:flex><span>	outputDir = <span style=color:#ff6ac1>file</span>(<span style=color:#5af78e>&#34;</span><span style=color:#5af78e>$rootDir</span><span style=color:#5af78e>/src/main/resources/doc&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>..</span>.
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The output files can be exposed by defining the <code>resource</code> function inside the <code>static</code> block of the <code>routing</code>.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#ff6ac1>fun</span> <span style=color:#57c7ff>Application</span>.module() {
</span></span><span style=display:flex><span>	routing {
</span></span><span style=display:flex><span>		static {
</span></span><span style=display:flex><span>			resource(<span style=color:#5af78e>&#34;doc/swagger.yml&#34;</span>, <span style=color:#5af78e>&#34;doc/swagger.yml&#34;</span>)
</span></span><span style=display:flex><span>			resource(<span style=color:#5af78e>&#34;doc&#34;</span>, <span style=color:#5af78e>&#34;doc/index.html&#34;</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this way, the documentation will be accessible from <code>http://0.0.0.0:8080/doc</code> and the output Swagger file used internally by the documentation HTML is available on the URL: <code>http://0.0.0.0:8080/doc/swagger.yml</code>.</p><p>So, from the following Swagger definition:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ff6ac1>swagger</span>: <span style=color:#5af78e>&#34;2.0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>info</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff6ac1>title</span>: Ktor Chuck Norris Sample
</span></span><span style=display:flex><span>  <span style=color:#ff6ac1>description</span>: A ktor sample project that returns Random Chuck Norris jokes
</span></span><span style=display:flex><span>  <span style=color:#ff6ac1>version</span>: <span style=color:#ff9f43>0.0.1</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>tags</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ff6ac1>name</span>: Jokes
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>description</span>: Jokes Apis
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>paths</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff6ac1>/joke/random</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>get</span>:
</span></span><span style=display:flex><span>      <span style=color:#ff6ac1>summary</span>: Get a random Chuck Norris Joke
</span></span><span style=display:flex><span>      <span style=color:#ff6ac1>responses</span>:
</span></span><span style=display:flex><span>        <span style=color:#5af78e>&#34;200&#34;</span>:
</span></span><span style=display:flex><span>          <span style=color:#ff6ac1>description</span>: <span style=color:#5af78e>&#34;JokeDTO&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#ff6ac1>schema</span>:
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>$ref</span>: <span style=color:#5af78e>&#34;#/definitions/JokeDTO&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>definitions</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff6ac1>JokeDTO</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>type</span>: object
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#ff6ac1>jokeId</span>:
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>type</span>: string
</span></span><span style=display:flex><span>      <span style=color:#ff6ac1>jokeContent</span>:
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>type</span>: string
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>required</span>:
</span></span><span style=display:flex><span>      - jokeId
</span></span><span style=display:flex><span>      - jokeContent
</span></span></code></pre></div><p>The following documentation will be generated:</p><figure><a href=/img/ktor-series/api-doc.png><img src=/img/ktor-series/api-doc.png></a></figure><h2 id=conclusions>Conclusions</h2><p>And thatâ€™s it for today. You can find the code mentioned in the article on <a href=https://github.com/prof18/ktor-chuck-norris-sample/tree/main/part5>GitHub</a>.</p><p>In the next episode, Iâ€™ll cover how to set up background jobs. You can follow me on <a href=https://twitter.com/marcoGomier>Twitter</a> to know when Iâ€™ll publish the next episodes.</p></section><div class=article-footer><div class=body>To stay up to date with my writing and my projects, follow me on <a href=https://androiddev.social/@marcogom target=_blank>Mastodon</a> or <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.marcogomiero.com>Marco Gomiero</a></span></footer><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-69FZ1TLE7E","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>