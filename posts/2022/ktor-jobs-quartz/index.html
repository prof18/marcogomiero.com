<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>How to schedule jobs with Quartz on Ktor - Marco Gomiero</title><meta name=Description content="Software Engineer · Google Developer Expert for Kotlin"><meta property="og:title" content="How to schedule jobs with Quartz on Ktor"><meta property="og:description" content="SERIES: Building a backend with Ktor   Part 1: Structuring a Ktor project Part 2: How to persist Ktor logs Part 3: How to use an in-memory database for testing on Ktor Part 4: How to handle database migrations with Liquibase on Ktor Part 5: Generate API documentation from Swagger on Ktor Part 6: How to schedule jobs with Quartz on Ktor     Sometimes, on a backend project, there is the need to run one or more tasks periodically, like for system administration, maintenance, backup, syncing content in the background, etc."><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2022/ktor-jobs-quartz/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-22T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to schedule jobs with Quartz on Ktor"><meta name=twitter:description content="SERIES: Building a backend with Ktor   Part 1: Structuring a Ktor project Part 2: How to persist Ktor logs Part 3: How to use an in-memory database for testing on Ktor Part 4: How to handle database migrations with Liquibase on Ktor Part 5: Generate API documentation from Swagger on Ktor Part 6: How to schedule jobs with Quartz on Ktor     Sometimes, on a backend project, there is the need to run one or more tasks periodically, like for system administration, maintenance, backup, syncing content in the background, etc."><meta name=application-name content="Marco Gomiero"><meta name=apple-mobile-web-app-title content="Marco Gomiero"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.marcogomiero.com/posts/2022/ktor-jobs-quartz/><link rel=prev href=https://www.marcogomiero.com/posts/2022/ktor-setup-documentation/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"How to schedule jobs with Quartz on Ktor","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.marcogomiero.com\/posts\/2022\/ktor-jobs-quartz\/"},"image":["https:\/\/www.marcogomiero.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","wordcount":1918,"url":"https:\/\/www.marcogomiero.com\/posts\/2022\/ktor-jobs-quartz\/","datePublished":"2022-04-22T00:00:00+00:00","dateModified":"2022-04-22T00:00:00+00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Marco Gomiero"},"author":{"@type":"Person","name":"Marco Gomiero"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Marco Gomiero">Marco Gomiero</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts>Posts </a><a class=menu-item href=/talks>Talks </a><a class=menu-item href=/projects>Projects </a><a class=menu-item href=/about-me>About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Marco Gomiero">Marco Gomiero</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts title>Posts</a><a class=menu-item href=/talks title>Talks</a><a class=menu-item href=/projects title>Projects</a><a class=menu-item href=/about-me title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel=stylesheet><main class=main><div class=container><article class="page single"><h1 class=single-title>How to schedule jobs with Quartz on Ktor</h1><br><div class=post-meta><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="22 Apr 2022">22 Apr 2022</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1918 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;10 minutes&nbsp;</div></div><br><div class=content id=content><div class="details admonition abstract open"><div class="details-summary admonition-title"><i class="icon fas fa-list-ul fa-fw"></i>SERIES: Building a backend with Ktor<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content><ul><li>Part 1: <a href=https://www.marcogomiero.com/posts/2021/ktor-project-structure/ target=_blank rel="noopener noreffer">Structuring a Ktor project</a></li><li>Part 2: <a href=https://www.marcogomiero.com/posts/2021/ktor-logging-on-disk/ target=_blank rel="noopener noreffer">How to persist Ktor logs</a></li><li>Part 3: <a href=https://www.marcogomiero.com/posts/2021/ktor-in-memory-db-testing/ target=_blank rel="noopener noreffer">How to use an in-memory database for testing on Ktor</a></li><li>Part 4: <a href=https://www.marcogomiero.com/posts/2022/ktor-migration-liquibase/ target=_blank rel="noopener noreffer">How to handle database migrations with Liquibase on Ktor</a></li><li>Part 5: <a href=https://www.marcogomiero.com/posts/2022/ktor-setup-documentation/ target=_blank rel="noopener noreffer">Generate API documentation from Swagger on Ktor</a></li><li>Part 6: How to schedule jobs with Quartz on Ktor</li></ul></div></div></div><p>Sometimes, on a backend project, there is the need to run one or more tasks periodically, like for system administration, maintenance, backup, syncing content in the background, etc. These types of tasks can be scheduled “manually” with a <a href=https://en.m.wikipedia.org/wiki/Cron target=_blank rel="noopener noreffer">cron job</a> or with a scheduling library like <a href=https://github.com/quartz-scheduler/quartz target=_blank rel="noopener noreffer">Quartz</a>, that makes easy for example the persistence of the task’s state even after a reboot of the server.</p><p>In this article, I will show how to set up and use Quartz to schedule jobs on a Ktor project.</p><p>This post is part of a series of posts dedicated to Ktor where I cover all the topics that made me struggle during development and that was not easy to achieve out of the box. You can check out the other instances of the series in the index above or <a href=https://twitter.com/marcoGomier target=_blank rel="noopener noreffer">follow me on Twitter</a> to keep up to date.</p><h2 id=setup>Setup</h2><p>The first thing to do is to add the dependency in the <code>build.gradle.kts</code> file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=n>implementation</span><span class=p>(</span><span class=s2>&#34;org.quartz-scheduler:quartz:&lt;version-number&gt;&#34;</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><p>Quartz persists in the database the state of the jobs, to be able to restore them when the server is rebooted. To do that, it is necessary to create some tables in the database used by the backend project.</p><p>Quartz provides a bunch of <code>SQL</code> files that can be used to generate all the required tables. The file can be found inside the source code in the following path: <code>quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore</code> (<a href=https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore target=_blank rel="noopener noreffer">click here</a> to open the folder on GitHub).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>.
├── jdbcjobstore
   
    ...

    ├── tables_mysql.sql
    ├── tables_mysql_innodb.sql
    ├── tables_oracle.sql

    ...

</code></pre></td></tr></table></div></div><p>In this project, I’m using MySQL so the <code>tables_mysql.sql</code> file is required.</p><p>After running the <code>SQL</code> code, the following tables are created:</p><figure><a href=/img/ktor-series/quartz-tables.png><img src=/img/ktor-series/quartz-tables.png></a></figure><p>Before moving on, I suggest you do another thing. Since the logs that Quartz produces are very verbose, it is recommended to lower the logging level of the Quartz classes to <code>INFO</code> inside the <code>logback.xml</code> file.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-xml data-lang=xml><span class=nt>&lt;configuration&gt;</span>
    ...
    <span class=nt>&lt;logger</span> <span class=na>name=</span><span class=s>&#34;org.quartz&#34;</span> <span class=na>level=</span><span class=s>&#34;INFO&#34;</span><span class=nt>/&gt;</span>
<span class=nt>&lt;/configuration&gt;</span>
</code></pre></td></tr></table></div></div><p>For more details about customizing the logging, I suggest you look <a href=https://www.marcogomiero.com/posts/2021/ktor-logging-on-disk/#logger-customization target=_blank rel="noopener noreffer">at the second instance of the series</a>.</p><blockquote><p>Note: the Quartz library is huge. There are many different features, possibilities, and settings to choose from. In this article, I will show the “combination” that worked for me. If you are interested in more, I suggest you give a look <a href=https://github.com/quartz-scheduler/quartz/blob/master/docs/index.adoc target=_blank rel="noopener noreffer">at the documentation</a>.</p></blockquote><h2 id=create-a-scheduler>Create a Scheduler</h2><p>The main entry point for adding, removing, and manipulating jobs is the Scheduler. A Scheduler can be created with a <code>SchedulerFactory</code> and has to be started with the <code>start()</code> method before interacting with it.</p><p>There are <a href=https://github.com/quartz-scheduler/quartz/blob/master/docs/tutorials/tutorial-lesson-10.md target=_blank rel="noopener noreffer">different implementations</a> of the <code>SchedulerFactory</code> interface, and I’ve used the <code>StdSchedulerFactory</code>. You can find other implementations <a href=https://github.com/quartz-scheduler/quartz/blob/master/docs/tutorials/tutorial-lesson-10.md#stdschedulerfactory target=_blank rel="noopener noreffer">in the documentation</a>.</p><p>The factory requires also some configurations parameters that are provided with <code>Java Properties</code>.</p><p>To handle the creation and the lifecycle of the Scheduler, I’ve created a wrapper class called <code>JobSchedulerManager</code>. The class is responsible for creating the <code>SchedulerFactory</code>, storing the Scheduler instance (that will be retrieved from who wants to schedule something), and starting the Scheduler.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=k>class</span> <span class=nc>JobSchedulerManager</span><span class=p>(</span><span class=n>appConfig</span><span class=p>:</span> <span class=n>AppConfig</span><span class=p>)</span> <span class=p>{</span>

    <span class=k>var</span> <span class=py>scheduler</span><span class=p>:</span> <span class=n>Scheduler</span>

    <span class=k>init</span> <span class=p>{</span>
        <span class=k>val</span> <span class=py>databaseConfig</span> <span class=p>=</span> <span class=n>appConfig</span><span class=p>.</span><span class=n>databaseConfig</span>

        <span class=k>val</span> <span class=py>props</span> <span class=p>=</span> <span class=n>Properties</span><span class=p>()</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.scheduler.instanceName&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s2>&#34;ChuckNorrisScheduler&#34;</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.threadPool.threadCount&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s2>&#34;3&#34;</span>
        
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.dataSource.mySql.driver&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=n>databaseConfig</span><span class=p>.</span><span class=n>driverClass</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.dataSource.mySql.URL&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=n>databaseConfig</span><span class=p>.</span><span class=n>url</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.dataSource.mySql.user&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=n>databaseConfig</span><span class=p>.</span><span class=n>user</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.dataSource.mySql.password&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=n>databaseConfig</span><span class=p>.</span><span class=n>password</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.dataSource.mySql.maxConnections&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s2>&#34;10&#34;</span>
        
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.jobStore.class&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s2>&#34;org.quartz.impl.jdbcjobstore.JobStoreTX&#34;</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.jobStore.driverDelegateClass&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s2>&#34;org.quartz.impl.jdbcjobstore.StdJDBCDelegate&#34;</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.jobStore.tablePrefix&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s2>&#34;QRTZ_&#34;</span>
		<span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.jobStore.dataSource&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s2>&#34;mySql&#34;</span>
		
		<span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.plugin.triggHistory.class&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s2>&#34;org.quartz.plugins.history.LoggingTriggerHistoryPlugin&#34;</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.plugin.triggHistory.triggerFiredMessage&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s>&#34;&#34;&#34;Trigger {1}.{0} fired job {6}.{5} at: {4, date, HH:mm:ss MM/dd/yyyy}&#34;&#34;&#34;</span>
        <span class=n>props</span><span class=p>[</span><span class=s2>&#34;org.quartz.plugin.triggHistory.triggerCompleteMessage&#34;</span><span class=p>]</span> <span class=p>=</span> <span class=s>&#34;&#34;&#34;Trigger {1}.{0} completed firing job {6}.{5} at {4, date, HH:mm:ss MM/dd/yyyy}&#34;&#34;&#34;</span>

        <span class=k>val</span> <span class=py>schedulerFactory</span><span class=p>:</span> <span class=n>SchedulerFactory</span> <span class=p>=</span> <span class=n>StdSchedulerFactory</span><span class=p>(</span><span class=n>props</span><span class=p>)</span>
        <span class=n>scheduler</span> <span class=p>=</span> <span class=n>schedulerFactory</span><span class=p>.</span><span class=n>scheduler</span>
    <span class=p>}</span>

    <span class=k>fun</span> <span class=nf>startScheduler</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>scheduler</span><span class=p>.</span><span class=n>start</span><span class=p>()</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><p>The configuration parameters that I’ve provided are the following, but you can find more in the <a href=https://github.com/quartz-scheduler/quartz/blob/master/docs/configuration.adoc target=_blank rel="noopener noreffer">documentation</a>:</p><ul><li><code>org.quartz.scheduler.instanceName</code>: the name of the Scheduler’s instance. It is used only to distinguish when multiple instances are used;</li><li><code>org.quartz.threadPool.threadCount</code>: the number of threads available for concurrent execution of the jobs;</li><li><code>org.quartz.dataSource.mySql.driver</code>: the Java class name of the JDBC driver;</li><li><code>org.quartz.dataSource.mySql.URL</code>: the connection URL for the database;</li><li><code>org.quartz.dataSource.mySql.user</code>: the database username;</li><li><code>org.quartz.dataSource.mySql.password</code>: the database password;</li><li><code>org.quartz.dataSource.mySql.maxConnections</code>: the maximum number of connections to the database that the DataSource can create;</li><li><code>org.quartz.jobStore.class</code>: the class used to store scheduling information in the database. I used the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/impl/jdbcjobstore/JobStoreTX.html target=_blank rel="noopener noreffer"><code>JobStoreTX</code></a> that manages all database’s transactions itself after every action (for example after adding a new job);</li><li><code>org.quartz.jobStore.driverDelegateClass</code>: a driver delegate to understand the dialect of the database system. Since I’m using a MySQL database with JDBC drivers, I’ve selected the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/impl/jdbcjobstore/StdJDBCDelegate.html target=_blank rel="noopener noreffer"><code>StdJDBCDelegate</code></a>;</li><li><code>org.quartz.jobStore.tablePrefix</code>: the prefix used in the Quartz tables name created before. By default the value is <code>QRTZ_</code>;</li><li><code>org.quartz.jobStore.dataSource</code>: the type of data source used, in this case <code>mySql</code>;</li><li><code>org.quartz.plugin.triggHistory.class</code>: the name of a plugin that catches trigger events to send a log. I’ve used the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/plugins/history/LoggingTriggerHistoryPlugin.html target=_blank rel="noopener noreffer"><code>LoggingTriggerHistoryPlugin</code></a>;</li><li><code>org.quartz.plugin.triggHistory.triggerFiredMessage</code>: a message to log when a new trigger is fired. I’ve set this message: <code>Trigger {1}.{0} fired job {6}.{5} at: {4, date, HH:mm:ss MM/dd/yyyy}</code> The numbers represents the following data:<ul><li><code>{0}</code>: the Trigger&rsquo;s Name;</li><li><code>{1}</code>: the Trigger&rsquo;s Group;</li><li><code>{2}</code>: the scheduled fire time;</li><li><code>{3}</code>: the next scheduled fire time;</li><li><code>{4}</code>: the actual fire time;</li><li><code>{5}</code>: the Job&rsquo;s name;</li><li><code>{6}</code>: the Job&rsquo;s group;</li><li><code>{7}</code>: the re-fire count from the JobExecutionContext;</li></ul></li><li><code>org.quartz.plugin.triggHistory.triggerCompleteMessage</code>: a message to log when the trigger is completed. The pattern to follow is the same as the <code>triggerFiredMessage</code>.</li></ul><p>Some of the properties provided above come from the <code>AppConfig</code> object, a wrapper that holds the parameters defined in the <code>application.conf</code> file. For more details about it, I suggest you look <a href=https://www.marcogomiero.com/posts/2021/ktor-project-structure/#configuration target=_blank rel="noopener noreffer">at the first instance of the series</a>.</p><p>After the creation, the Scheduler must be started in the Ktor <code>module</code> function:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=k>fun</span> <span class=nf>Application</span><span class=p>.</span><span class=n>module</span><span class=p>(</span><span class=n>testing</span><span class=p>:</span> <span class=n>Boolean</span> <span class=p>=</span> <span class=k>false</span><span class=p>,</span> <span class=n>koinModules</span><span class=p>:</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>Module</span><span class=p>&gt;</span> <span class=p>=</span> <span class=n>listOf</span><span class=p>(</span><span class=n>appModule</span><span class=p>))</span> <span class=p>{</span>
	<span class=k>if</span> <span class=p>(!</span><span class=n>testing</span><span class=p>)</span> <span class=p>{</span>
		<span class=k>val</span> <span class=py>jobSchedulerManager</span> <span class=k>by</span> <span class=n>inject</span><span class=p>&lt;</span><span class=n>JobSchedulerManager</span><span class=p>&gt;()</span>
		<span class=n>jobSchedulerManager</span><span class=p>.</span><span class=n>startScheduler</span><span class=p>()</span>
	<span class=p>}</span>
	<span class=o>..</span><span class=p>.</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><p><em>Note: The Scheduler is not started when running integration testing with the Ktor test engine</em></p><h2 id=create-a-job>Create a Job</h2><p>The <strong><a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/Job.html target=_blank rel="noopener noreffer">Job</a></strong> is the representation of the work to be done. It is a class that implements the <code>Job</code> interface, that has only the <code>execute</code> method. In this method, the logic of the Job will be written, giving the freedom to do whatever is necessary. Then, when the Job’s trigger is fired, the method will be called by one of the scheduler’s worker threads.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=k>class</span> <span class=nc>MyJob</span><span class=p>()</span> <span class=p>:</span> <span class=n>Job</span> <span class=p>{</span>
	<span class=k>override</span> <span class=k>fun</span> <span class=nf>execute</span><span class=p>(</span><span class=n>context</span><span class=p>:</span> <span class=n>JobExecutionContext</span><span class=p>?)</span> <span class=p>{</span>
	  <span class=c1>// Perform the work here     
</span><span class=c1></span>	<span class=p>}</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><p>To pass data to a Job, the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/JobDataMap.html target=_blank rel="noopener noreffer">JobDataMap</a> can be used. This map can hold any serializable data that can be retrieved from the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/JobExecutionContext.html target=_blank rel="noopener noreffer"><code>JobExecutionContext</code></a> parameter on the <code>execute</code> method. The data are provided on the map when the Job is scheduled.</p><p>For example, in the following Job, a string is retrieved from the <code>JobDataMap</code> and passed to a method of the <code>jokeRepository</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=k>class</span> <span class=nc>RandomJokeJob</span><span class=p>(</span>
    <span class=k>private</span> <span class=k>val</span> <span class=py>jokeRepository</span><span class=p>:</span> <span class=n>JokeRepository</span>
<span class=p>)</span> <span class=p>:</span> <span class=n>Job</span> <span class=p>{</span>

    <span class=k>override</span> <span class=k>fun</span> <span class=nf>execute</span><span class=p>(</span><span class=n>context</span><span class=p>:</span> <span class=n>JobExecutionContext</span><span class=p>?)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>context</span> <span class=o>==</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span>
        <span class=p>}</span>

        <span class=k>val</span> <span class=py>dataMap</span> <span class=p>=</span> <span class=n>context</span><span class=p>.</span><span class=n>jobDetail</span><span class=p>.</span><span class=n>jobDataMap</span>

        <span class=k>val</span> <span class=py>name</span><span class=p>:</span> <span class=n>String</span><span class=p>?</span> <span class=p>=</span> <span class=k>try</span> <span class=p>{</span>
            <span class=n>dataMap</span><span class=p>.</span><span class=n>getString</span><span class=p>(</span><span class=n>JOB_MAP_NAME_ID_KEY</span><span class=p>)</span>
        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=n>e</span><span class=p>:</span> <span class=n>ClassCastException</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>null</span>
        <span class=p>}</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>name</span> <span class=o>!=</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>val</span> <span class=py>greetingMessage</span> <span class=p>=</span> <span class=n>jokeRepository</span><span class=p>.</span><span class=n>getChuckGreeting</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
            <span class=n>println</span><span class=p>(</span><span class=n>greetingMessage</span><span class=p>)</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=k>companion</span> <span class=k>object</span> <span class=p>{</span>
        <span class=k>const</span> <span class=k>val</span> <span class=py>JOB_MAP_NAME_ID_KEY</span> <span class=p>=</span> <span class=s2>&#34;name&#34;</span>
        <span class=k>const</span> <span class=k>val</span> <span class=py>WATCH_JOB_GROUP</span> <span class=p>=</span> <span class=s2>&#34;WatchJob&#34;</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><p>For more information about the JobDataMap, you can look <a href=https://github.com/quartz-scheduler/quartz/blob/master/docs/tutorials/tutorial-lesson-03.md#TutorialLesson3-JobDataMap target=_blank rel="noopener noreffer">at the documentation</a>.</p><p>When a trigger fires, a Job instance must be created. The creation is performed by a default <code>JobFactory</code> that simply calls <code>newInstance</code> on the job class. But, if the Job requires some dependencies, a custom factory must be created by implementing the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/spi/JobFactory.html target=_blank rel="noopener noreffer"><code>JobFactory</code></a> interface:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=k>class</span> <span class=nc>JobFactory</span><span class=p>(</span>
    <span class=k>private</span> <span class=k>val</span> <span class=py>jokeRepository</span><span class=p>:</span> <span class=n>JokeRepository</span>
<span class=p>):</span> <span class=n>JobFactory</span> <span class=p>{</span>

    <span class=k>override</span> <span class=k>fun</span> <span class=nf>newJob</span><span class=p>(</span><span class=n>bundle</span><span class=p>:</span> <span class=n>TriggerFiredBundle</span><span class=p>?,</span> <span class=n>scheduler</span><span class=p>:</span> <span class=n>Scheduler</span><span class=p>?):</span> <span class=n>Job</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>bundle</span> <span class=o>!=</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>val</span> <span class=py>jobClass</span> <span class=p>=</span> <span class=n>bundle</span><span class=p>.</span><span class=n>jobDetail</span><span class=p>.</span><span class=n>jobClass</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>jobClass</span><span class=p>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>RandomJokeJob</span><span class=o>::</span><span class=k>class</span><span class=p>.</span><span class=n>jvmName</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>return</span> <span class=n>RandomJokeJob</span><span class=p>(</span><span class=n>jokeRepository</span><span class=p>)</span>
            <span class=p>}</span>
        <span class=p>}</span>
        <span class=k>throw</span> <span class=n>NotImplementedError</span><span class=p>(</span><span class=s2>&#34;Job Factory error&#34;</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><p>From the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/spi/TriggerFiredBundle.html target=_blank rel="noopener noreffer"><code>TriggerFiredBundle</code></a> it is possible to retrieve the class name of the triggered Job and return the right Job class with the required dependencies. If the Job is not known, an exception will be thrown.</p><h2 id=schedule-a-job>Schedule a Job</h2><p>The first thing to do to schedule a Job is create a <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/JobDetail.html target=_blank rel="noopener noreffer"><code>JobDetail</code></a>, an object that contains all the detail properties of a Job instance. The <code>JobDetail</code> can be created with the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/JobBuilder.html target=_blank rel="noopener noreffer"><code>JobBuilder</code></a>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=k>val</span> <span class=py>jobId</span> <span class=p>=</span> <span class=s2>&#34;chuck-watch-job-for-name-</span><span class=si>$name</span><span class=s2>&#34;</span>

<span class=k>val</span> <span class=py>job</span><span class=p>:</span> <span class=n>JobDetail</span> <span class=p>=</span> <span class=n>JobBuilder</span><span class=p>.</span><span class=n>newJob</span><span class=p>(</span><span class=n>RandomJokeJob</span><span class=o>::</span><span class=k>class</span><span class=p>.</span><span class=n>java</span><span class=p>)</span>
      <span class=p>.</span><span class=n>withIdentity</span><span class=p>(</span><span class=n>jobId</span><span class=p>,</span> <span class=n>RandomJokeJob</span><span class=p>.</span><span class=n>WATCH_JOB_GROUP</span><span class=p>)</span>
      <span class=p>.</span><span class=n>usingJobData</span><span class=p>(</span><span class=n>RandomJokeJob</span><span class=p>.</span><span class=n>JOB_MAP_NAME_ID_KEY</span><span class=p>,</span> <span class=s2>&#34;value&#34;</span><span class=p>)</span>
      <span class=p>.</span><span class=n>build</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p>It is necessary to provide to the builder a <strong>Job key</strong> and a <strong>Job group</strong>. The key is necessary to identify the Job and every Job can be placed inside a ”group”, which can be useful for organizing different Jobs into different categories. In the end, the Job is uniquely identified with the combination of the key and the group, for this reason, the key must be unique inside the group.</p><p>After creating the <code>JobDetail</code>, it is necessary to create a <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/Trigger.html target=_blank rel="noopener noreffer"><code>Trigger</code></a>. A Trigger is responsible for firing the Job at the scheduled time.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=k>val</span> <span class=py>triggerId</span> <span class=p>=</span> <span class=s2>&#34;chuck-watch-trigger-for-name-</span><span class=si>$name</span><span class=s2>&#34;</span>

<span class=k>val</span> <span class=py>trigger</span><span class=p>:</span> <span class=n>Trigger</span> <span class=p>=</span> <span class=n>TriggerBuilder</span><span class=p>.</span><span class=n>newTrigger</span><span class=p>()</span>
      <span class=p>.</span><span class=n>withIdentity</span><span class=p>(</span><span class=n>triggerId</span><span class=p>,</span> <span class=n>RandomJokeJob</span><span class=p>.</span><span class=n>WATCH_JOB_GROUP</span><span class=p>)</span>
      <span class=p>.</span><span class=n>withSchedule</span><span class=p>(</span>
          <span class=n>SimpleScheduleBuilder</span><span class=p>.</span><span class=n>simpleSchedule</span><span class=p>()</span>
              <span class=c1>// every minute
</span><span class=c1></span>              <span class=p>.</span><span class=n>withIntervalInMinutes</span><span class=p>(</span><span class=m>1</span><span class=p>)</span>
              <span class=p>.</span><span class=n>repeatForever</span><span class=p>()</span>
      <span class=p>)</span>
      <span class=p>.</span><span class=n>build</span><span class=p>()</span>
</code></pre></td></tr></table></div></div><p>A Trigger can be created with a <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/TriggerBuilder.html target=_blank rel="noopener noreffer"><code>TriggerBuilder</code></a>. As for the <code>JobDetail</code>, the builder requires a key and a group.</p><p>Quartz has different Trigger types and the most used ones are the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/SimpleTrigger.html target=_blank rel="noopener noreffer"><code>SimpleTrigger</code></a> and the <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/CronTrigger.html target=_blank rel="noopener noreffer"><code>CronTrigger</code></a>. The former is used to schedule “one-shot” jobs that can be repeated 1 or multiple times while the latter is used to schedule calendar-like jobs (for example run a Job every Saturday at 3 am).</p><p>The type of trigger can be chosen with the <code>withSchedule</code> method of the <code>TriggerBuilder</code> by providing a <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/SimpleScheduleBuilder.html target=_blank rel="noopener noreffer"><code>SimpleScheduleBuilder</code></a> or a <a href=http://www.quartz-scheduler.org/api/2.3.0/org/quartz/CronScheduleBuilder.html target=_blank rel="noopener noreffer"><code>CronScheduleBuilder</code></a>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=p>.</span><span class=n>withSchedule</span><span class=p>(</span>
	<span class=n>SimpleScheduleBuilder</span><span class=p>.</span><span class=n>simpleSchedule</span><span class=p>()</span>
	  <span class=c1>// every minute
</span><span class=c1></span>	  <span class=p>.</span><span class=n>withIntervalInMinutes</span><span class=p>(</span><span class=m>1</span><span class=p>)</span>
	  <span class=p>.</span><span class=n>repeatForever</span><span class=p>()</span>
<span class=p>)</span>
</code></pre></td></tr></table></div></div><p>In this case, I used a <code>SimpleScheduleBuilder</code> since I want the Job to be repeated every minute forever.</p><p>And finally, everything is ready to schedule the Job:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=n>jobSchedulerManager</span><span class=p>.</span><span class=n>scheduler</span><span class=p>.</span><span class=n>scheduleJob</span><span class=p>(</span><span class=n>job</span><span class=p>,</span> <span class=n>trigger</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><p>And every minute, the Job will be called and a message is shown in the console.</p><figure><a href=/img/ktor-series/job-run.png><img src=/img/ktor-series/job-run.png></a></figure><p>As a reference, here is the entire method responsible for scheduling the Job.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-kotlin data-lang=kotlin><span class=k>override</span> <span class=k>suspend</span> <span class=k>fun</span> <span class=nf>watch</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>String</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>val</span> <span class=py>jobId</span> <span class=p>=</span> <span class=s2>&#34;chuck-watch-job-for-name-</span><span class=si>$name</span><span class=s2>&#34;</span>
  <span class=k>val</span> <span class=py>triggerId</span> <span class=p>=</span> <span class=s2>&#34;chuck-watch-trigger-for-name-</span><span class=si>$name</span><span class=s2>&#34;</span>
  
  <span class=c1>// If a job exists, delete it!
</span><span class=c1></span>  <span class=k>val</span> <span class=py>jobScheduler</span> <span class=p>=</span> <span class=n>jobSchedulerManager</span><span class=p>.</span><span class=n>scheduler</span>
  <span class=k>val</span> <span class=py>jobKey</span> <span class=p>=</span> <span class=n>JobKey</span><span class=p>.</span><span class=n>jobKey</span><span class=p>(</span><span class=n>jobId</span><span class=p>,</span> <span class=n>RandomJokeJob</span><span class=p>.</span><span class=n>WATCH_JOB_GROUP</span><span class=p>)</span>
  <span class=n>jobScheduler</span><span class=p>.</span><span class=n>deleteJob</span><span class=p>(</span><span class=n>jobKey</span><span class=p>)</span>
  
  <span class=k>val</span> <span class=py>job</span><span class=p>:</span> <span class=n>JobDetail</span> <span class=p>=</span> <span class=n>JobBuilder</span><span class=p>.</span><span class=n>newJob</span><span class=p>(</span><span class=n>RandomJokeJob</span><span class=o>::</span><span class=k>class</span><span class=p>.</span><span class=n>java</span><span class=p>)</span>
      <span class=p>.</span><span class=n>withIdentity</span><span class=p>(</span><span class=n>jobId</span><span class=p>,</span> <span class=n>RandomJokeJob</span><span class=p>.</span><span class=n>WATCH_JOB_GROUP</span><span class=p>)</span>
      <span class=p>.</span><span class=n>usingJobData</span><span class=p>(</span><span class=n>RandomJokeJob</span><span class=p>.</span><span class=n>JOB_MAP_NAME_ID_KEY</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
      <span class=p>.</span><span class=n>build</span><span class=p>()</span>
  
  <span class=k>val</span> <span class=py>trigger</span><span class=p>:</span> <span class=n>Trigger</span> <span class=p>=</span> <span class=n>TriggerBuilder</span><span class=p>.</span><span class=n>newTrigger</span><span class=p>()</span>
      <span class=p>.</span><span class=n>withIdentity</span><span class=p>(</span><span class=n>triggerId</span><span class=p>,</span> <span class=n>RandomJokeJob</span><span class=p>.</span><span class=n>WATCH_JOB_GROUP</span><span class=p>)</span>
      <span class=p>.</span><span class=n>withSchedule</span><span class=p>(</span>
          <span class=n>SimpleScheduleBuilder</span><span class=p>.</span><span class=n>simpleSchedule</span><span class=p>()</span>
              <span class=c1>// every minute
</span><span class=c1></span>              <span class=p>.</span><span class=n>withIntervalInMinutes</span><span class=p>(</span><span class=m>1</span><span class=p>)</span>
              <span class=p>.</span><span class=n>repeatForever</span><span class=p>()</span>
      <span class=p>)</span>
      <span class=p>.</span><span class=n>build</span><span class=p>()</span>
  
  <span class=c1>// Tell quartz to schedule the job using our trigger
</span><span class=c1></span>  <span class=n>jobSchedulerManager</span><span class=p>.</span><span class=n>scheduler</span><span class=p>.</span><span class=n>scheduleJob</span><span class=p>(</span><span class=n>job</span><span class=p>,</span> <span class=n>trigger</span><span class=p>)</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><h2 id=conclusions>Conclusions</h2><p>And that’s it for today. You can find the code mentioned in the article on <a href=https://github.com/prof18/ktor-chuck-norris-sample/tree/part6 target=_blank rel="noopener noreffer">GitHub</a>.</p></div><section style=width:90%;margin-left:auto;margin-right:auto;margin-top:30px;margin-bottom:30px><hr><div style=padding:25px><div class=content>To stay up to date with my writing and my projects, follow me on <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div><hr></section><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.marcogomiero.com/posts/2022/ktor-jobs-quartz/ data-title="How to schedule jobs with Quartz on Ktor" data-via=marcoGomier><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.marcogomiero.com/posts/2022/ktor-jobs-quartz/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://www.marcogomiero.com/posts/2022/ktor-jobs-quartz/ data-title="How to schedule jobs with Quartz on Ktor"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://www.marcogomiero.com/posts/2022/ktor-jobs-quartz/><i class="fab fa-reddit fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2022/ktor-setup-documentation/ class=prev rel=prev title="Generate API documentation from Swagger on Ktor"><i class="fas fa-angle-left fa-fw"></i>Generate API documentation from Swagger on Ktor</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2017 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.marcogomiero.com/ target=_blank>Marco Gomiero</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:1e5},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-90975904-1 ',{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-90975904-1%20" async></script></body></html>