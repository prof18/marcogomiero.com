<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>New big update for Youtube Parser: video stats and much more - Marco Gomiero</title><meta name=Description content="Youtube Parser is an Android Library that helps you to handle Youtube videos from a specific channel. Let's see how it works!"><meta property="og:title" content="New big update for Youtube Parser: video stats and much more"><meta property="og:description" content="Youtube Parser is an Android Library that helps you to handle Youtube videos from a specific channel. Let's see how it works!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2017/update-yt-parser-2/"><meta property="og:image" content="https://miro.medium.com/max/1400/1*rNC9B9nCUquBYtkfVv2aWQ.jpeg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-06-23T00:00:00+00:00"><meta property="article:modified_time" content="2017-06-23T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://miro.medium.com/max/1400/1*rNC9B9nCUquBYtkfVv2aWQ.jpeg"><meta name=twitter:title content="New big update for Youtube Parser: video stats and much more"><meta name=twitter:description content="Youtube Parser is an Android Library that helps you to handle Youtube videos from a specific channel. Let's see how it works!"><meta name=application-name content="Marco Gomiero"><meta name=apple-mobile-web-app-title content="Marco Gomiero"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://www.marcogomiero.com/posts/2017/update-yt-parser-2/><link rel=prev href=https://www.marcogomiero.com/posts/2017/backup-restore/><link rel=next href=https://www.marcogomiero.com/posts/2017/rss-parser-library/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"New big update for Youtube Parser: video stats and much more","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.marcogomiero.com\/posts\/2017\/update-yt-parser-2\/"},"image":["https:\/\/www.marcogomiero.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","wordcount":769,"url":"https:\/\/www.marcogomiero.com\/posts\/2017\/update-yt-parser-2\/","datePublished":"2017-06-23T00:00:00+00:00","dateModified":"2017-06-23T00:00:00+00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Marco Gomiero","logo":"https:\/\/www.marcogomiero.com\/images\/avatar.png"},"author":{"@type":"Person","name":"Marco Gomiero"},"description":"Youtube Parser is an Android Library that helps you to handle Youtube videos from a specific channel. Let's see how it works!"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Marco Gomiero">Marco Gomiero</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts>Posts </a><a class=menu-item href=/talks>Talks </a><a class=menu-item href=/projects>Projects </a><a class=menu-item href=/about-me>About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Marco Gomiero">Marco Gomiero</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts title>Posts</a><a class=menu-item href=/talks title>Talks</a><a class=menu-item href=/projects title>Projects</a><a class=menu-item href=/about-me title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel=stylesheet><main class=main><div class=container><article class="page single"><h1 class=single-title>New big update for Youtube Parser: video stats and much more</h1><br><div class=post-meta><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="23 Jun 2017">23 Jun 2017</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;769 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><br><div class=content id=content><p>Finally I&rsquo;ve released a new big update for YoutubeParser. For people who don&rsquo;t know what I&rsquo;m talking about, don&rsquo;t worry now I&rsquo;m going to explain all.</p><p><strong>YoutubeParser</strong> is the first <strong>Android library</strong> that I ever wrote. With this library it is possible to get information of videos from Youtube channels. These information are:</p><ul><li>Title</li><li>Link</li><li>Thumbnail, with three different image size.</li></ul><p>After a year I&rsquo;ve released this new big update, named 2.0, that introduces a bunch of new things. First of all, now it is possible to load more than 50 videos from the same channel. 50 is the maximum number of videos that can be retrieved with a single request.</p><p>Furthermore you can also get the statistics of a video:</p><ul><li>View</li><li>Like</li><li>Dislike</li><li>Favorite Count</li><li>Comment Count</li></ul><p>The source code of the library is on Github together with a sample application that shows what you can do with the library.</p><ul><li><a href=https://github.com/prof18/YoutubeParser target=_blank rel="noopener noreffer">Click here to view the library on Github</a></li><li><a href=https://github.com/prof18/YoutubeParser/tree/master/app%22 target=_blank rel="noopener noreffer">Click here to show the code of the sample app</a></li><li><a href=https://github.com/prof18/YoutubeParser/blob/master/YoutubeParser.apk target=_blank rel="noopener noreffer">Click here to download the app</a></li></ul><img src=https://raw.githubusercontent.com/prof18/YoutubeParser/master/Screen.png width=50% height=50% align=center><p>Of course the library is available also on jCenter so you can easily add the dependency on Gradle.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-gradle data-lang=gradle><span class=n>dependencies</span> <span class=o>{</span>
  <span class=n>compile</span> <span class=s1>&#39;com.prof.youtubeparser:youtubeparser:2.0&#39;</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><p>Now let&rsquo;s look how it works. First of all you need to create a new <em>Parser</em> Object and then you have to create the url to load the data by using the method <em>generateRequest</em>. This method takes as parameter four values:</p><ul><li>The Channel ID of a Youtube Channel. For example, for this link <em>youtube.com/channel/UCVHFbqXqoYvEWM1Ddxl0QDg</em>, the Channel ID is: <em>UCVHFbqXqoYvEWM1Ddxl0QDg</em></li><li>The maximum number of videos to show. This value can be maximum 50.</li><li>The type of ordering of the videos. It is possible to choose between two different type of ordering: by date or by views. To select the chosen value you have to use the constants: <em>Parser.ORDER_DATE</em> and <em>Parser.ORDER_VIEW_COUNT</em></li><li>The API Key. The key is a <em>BROSWER API KEY</em> and to create it you can follow <a href="https://support.google.com/cloud/answer/6158862?hl=en#creating-browser-api-keys" target=_blank rel="noopener noreffer">this guide</a></li></ul><p>If the data are correctly retrieved, you can do your stuff inside the <em>onTaskCompleted</em>. Here you have two variable: an <em>ArrayList</em> of <em>Video</em> items that you can use to populate your view for instance and a <em>token</em> that is necessary to load more data (see below for more details).</p><p>If there are some error on the process, you can handle the situation in the <em>onError()</em> method.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=kn>import</span> <span class=nn>com.prof.youtubeparser.Parser</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>com.prof.youtubeparser.models.videos.Video</span><span class=o>;</span>

<span class=n>Parser</span> <span class=n>parser</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Parser</span><span class=o>();</span>

<span class=c1>//(CHANNEL_ID, NUMBER_OF_RESULT_TO_SHOW, ORDER_TYPE ,BROSWER_API_KEY)
</span><span class=c1>//https://www.youtube.com/channel/UCVHFbqXqoYvEWM1Ddxl0QDg --&gt; channel id = UCVHFbqXqoYvEWM1Ddxl0QDg
</span><span class=c1>//The maximum number of result to show is 50
</span><span class=c1>//ORDER_TYPE --&gt; by date: &#34;Parser.ORDER_DATE&#34; or by number of views: &#34;ORDER_VIEW_COUNT&#34;  
</span><span class=c1></span><span class=n>String</span> <span class=n>url</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=na>generateRequest</span><span class=o>(</span><span class=n>CHANNEL_ID</span><span class=o>,</span> <span class=n>20</span><span class=o>,</span> <span class=n>Parser</span><span class=o>.</span><span class=na>ORDER_DATE</span><span class=o>,</span> <span class=n>API_KEY</span><span class=o>);</span>
<span class=n>parser</span><span class=o>.</span><span class=na>execute</span><span class=o>(</span><span class=n>url</span><span class=o>);</span>
<span class=n>parser</span><span class=o>.</span><span class=na>onFinish</span><span class=o>(</span><span class=k>new</span> <span class=n>Parser</span><span class=o>.</span><span class=na>OnTaskCompleted</span><span class=o>()</span> <span class=o>{</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>onTaskCompleted</span><span class=o>(</span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>Video</span><span class=o>&gt;</span> <span class=n>list</span><span class=o>,</span> <span class=n>String</span> <span class=n>nextPageToken</span><span class=o>)</span> <span class=o>{</span>
      <span class=c1>//what to do when the parsing is done
</span><span class=c1></span>      <span class=c1>//the ArrayList contains all video data. For example you can use it for your adapter
</span><span class=c1></span>    <span class=o>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>onError</span><span class=o>()</span> <span class=o>{</span>
        <span class=c1>//what to do in case of error
</span><span class=c1></span>    <span class=o>}</span>
<span class=o>});</span>
</code></pre></td></tr></table></div></div><p>If you want to retrieved <strong>more videos from the same channel</strong>, the procedure is the same of the above case. The only difference is the method that generate the url; here you have to add the token retrieved from the above procedure.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=n>String</span> <span class=n>url</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=na>generateMoreDataRequest</span><span class=o>(</span><span class=n>CHANNEL_ID</span><span class=o>,</span> <span class=n>20</span><span class=o>,</span> <span class=n>Parser</span><span class=o>.</span><span class=na>ORDER_DATE</span><span class=o>,</span> <span class=n>API_KEY</span><span class=o>,</span> <span class=n>nextToken</span><span class=o>);</span>
</code></pre></td></tr></table></div></div><p>To get <strong>the statistics of a single video</strong>, the procedure is equivalent of the previous. As you can guess, the first thing to do is to generate the url with the <em>generateStatsRequest</em> method. The parameter of this method are:</p><ul><li>The ID of a Youtube Video</li><li>The API Key</li></ul><p>Also here you can handle the result in the <em>onTaskCompleted</em> method and any error in the <em>onError()</em> method.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=kn>import</span> <span class=nn>com.prof.youtubeparser.VideoStats</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>com.prof.youtubeparser.models.stats.Statistics</span><span class=o>;</span>

<span class=n>VideoStats</span> <span class=n>videoStats</span> <span class=o>=</span> <span class=k>new</span> <span class=n>VideoStats</span><span class=o>();</span>
<span class=n>String</span> <span class=n>url</span> <span class=o>=</span> <span class=n>videoStats</span><span class=o>.</span><span class=na>generateStatsRequest</span><span class=o>(</span><span class=n>videoId</span><span class=o>,</span> <span class=n>API_KEY</span><span class=o>);</span>
<span class=n>videoStats</span><span class=o>.</span><span class=na>execute</span><span class=o>(</span><span class=n>url</span><span class=o>);</span>
<span class=n>videoStats</span><span class=o>.</span><span class=na>onFinish</span><span class=o>(</span><span class=k>new</span> <span class=n>VideoStats</span><span class=o>.</span><span class=na>OnTaskCompleted</span><span class=o>()</span> <span class=o>{</span>
  <span class=nd>@Override</span>
  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>onTaskCompleted</span><span class=o>(</span><span class=n>Statistics</span> <span class=n>stats</span><span class=o>)</span> <span class=o>{</span>
      <span class=c1>//Here you can set the statistic to a Text View for instance
</span><span class=c1></span>
      <span class=c1>//for example:
</span><span class=c1></span>      <span class=n>String</span> <span class=n>body</span> <span class=o>=</span> <span class=s>&#34;Views: &#34;</span> <span class=o>+</span> <span class=n>stats</span><span class=o>.</span><span class=na>getViewCount</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;\n&#34;</span> <span class=o>+</span>
                    <span class=s>&#34;Like: &#34;</span> <span class=o>+</span> <span class=n>stats</span><span class=o>.</span><span class=na>getLikeCount</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;\n&#34;</span> <span class=o>+</span>
                    <span class=s>&#34;Dislike: &#34;</span> <span class=o>+</span> <span class=n>stats</span><span class=o>.</span><span class=na>getDislikeCount</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;\n&#34;</span> <span class=o>+</span>
                    <span class=s>&#34;Number of comment: &#34;</span> <span class=o>+</span> <span class=n>stats</span><span class=o>.</span><span class=na>getCommentCount</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;\n&#34;</span> <span class=o>+</span>
                    <span class=s>&#34;Number of favourite: &#34;</span> <span class=o>+</span> <span class=n>stats</span><span class=o>.</span><span class=na>getFavoriteCount</span><span class=o>();</span>
  <span class=o>}</span>
  <span class=nd>@Override</span>
  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>onError</span><span class=o>()</span> <span class=o>{</span>
      <span class=c1>//what to do in case of error
</span><span class=c1></span>  <span class=o>}</span>
<span class=o>});</span>
</code></pre></td></tr></table></div></div><p>That&rsquo;s all! Please let me know if you notice any bug or if you have any advice that can improve this library.</p></div><section style=width:90%;margin-left:auto;margin-right:auto;margin-top:30px;margin-bottom:30px><hr><div style=padding:25px><div class=content>To stay up to date with my writing and my projects, follow me on <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div><hr></section><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.marcogomiero.com/posts/2017/update-yt-parser-2/ data-title="New big update for Youtube Parser: video stats and much more" data-via=marcoGomier><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.marcogomiero.com/posts/2017/update-yt-parser-2/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://www.marcogomiero.com/posts/2017/update-yt-parser-2/ data-title="New big update for Youtube Parser: video stats and much more"><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://www.marcogomiero.com/posts/2017/update-yt-parser-2/><i class="fab fa-reddit fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2017/backup-restore/ class=prev rel=prev title="How to deal with backup & restore on Android (Slide & Video) "><i class="fas fa-angle-left fa-fw"></i>How to deal with backup & restore on Android (Slide & Video)</a>
<a href=/posts/2017/rss-parser-library/ class=next rel=next title="How to easily handle RSS Feeds on Android with RSS Parser">How to easily handle RSS Feeds on Android with RSS Parser<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2017 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.marcogomiero.com/ target=_blank>Marco Gomiero</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.8/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:1e5},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-90975904-1 ',{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-90975904-1%20" async></script></body></html>