<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>How to install Wordpress on Arch Linux - Marco Gomiero</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Sometimes, installing Wordpress on Arch Linux can be a tragedy. In this tutorial we are going to see all the steps to make everything work!"><meta property="og:image" content><meta name=google-site-verification content="7rDTNqn214SsZ9mmV8Ps5v2vqy8aXFWyoq08udChYCs"><meta property="og:title" content="How to install Wordpress on Arch Linux"><meta property="og:description" content="Sometimes, installing Wordpress on Arch Linux can be a tragedy. In this tutorial we are going to see all the steps to make everything work!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.marcogomiero.com/posts/2018/wordpress-arch/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-01-19T00:00:00+00:00"><meta property="article:modified_time" content="2018-01-19T00:00:00+00:00"><meta property="og:site_name" content="Marco Gomiero"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to install Wordpress on Arch Linux"><meta name=twitter:description content="Sometimes, installing Wordpress on Arch Linux can be a tragedy. In this tutorial we are going to see all the steps to make everything work!"><script async src="https://www.googletagmanager.com/gtag/js?id=G-69FZ1TLE7E"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-69FZ1TLE7E",{anonymize_ip:!1})}</script><script src=https://www.marcogomiero.com/js/feather.min.js></script>
<link href="https://fonts.googleapis.com/css?family=JetBrains+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.marcogomiero.com/css/main.f2c7f60ec2d0155a784ade9b1b272143e1b8eb864a95bf75e606b49d8774389e.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://www.marcogomiero.com/css/dark.26c5bf79ef760a8f4feb8fc7be32ec86fc1f1da292b42c9fcc37879d4f774e3f.css disabled></head><body><div class=content><header><div class=main><a href=https://www.marcogomiero.com><h2>Marco Gomiero</h2></a></div><nav class=navbar><a href=/posts/><span>Write</span></a>
<a href=/talks/><span>Speak</span></a>
<a href=/projects/><span>Build</span></a>
<a href=/about-me/><span>About</span></a>
| <span class=dark-mode-toggle id=dark-mode-toggle onclick=toggleTheme()></span>
<script src=https://www.marcogomiero.com/js/themetoggle.js></script></nav></header><main><article><div class=title><h1 class=title>How to install Wordpress on Arch Linux</h1><div class=post-meta><span title='2018-01-19 00:00:00 +0000 UTC'>19 January 2018</span></div></div><section class=body><figure><img src=/img/arch/wordpress_arch.png alt=image></figure><p>Every time I&rsquo;ve tried to install Wordpress on Arch Linux it was a tragedy. Sometimes a configuration was missing, sometimes stuff not well known was broken and I never found an updated and complete guide. So here you are!</p><p><em>In all the following commands I&rsquo;ve omitted &ldquo;sudo&rdquo;. Please use it when it is necessary.</em></p><p>Before starting make you sure that all the packages are updated.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pacman -Syu
</span></span></code></pre></div><h2 id=install-apache>Install Apache</h2><p>First of all, you need to install and configure Apache, the web server.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pacman -S apache
</span></span></code></pre></div><p>After the installation you have to start Apache and if you want you can set the auto-start at boot time with the enable command.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl start httpd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>systemctl <span style=color:#ff5c57>enable</span> httpd
</span></span></code></pre></div><p>At this point you have to change some configurations of Apache. In order to do that, you can use your preferred editor like nano or vim. I&rsquo;ll use nano. (If you aren&rsquo;t a nano user here&rsquo;s some tip: to search a string you have to press ctrl+w; to exit you have to press ctrl+x and type &lsquo;y&rsquo; or &rsquo;n&rsquo; in order to save or not the file. Remember that the saving process can give an error if the file isn&rsquo;t opened as root and only the root user can edit it).</p><p>So open the httpd.conf file</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano /etc/httpd/conf/httpd.conf
</span></span></code></pre></div><p>and uncomment (remove the #) the following string.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#78787e>#LoadModule unique_id_module modules/mod_unique_id.so</span>
</span></span></code></pre></div><p>At this point you have to restart Apache to apply the changes.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl restart httpd
</span></span></code></pre></div><p>To make sure that all is correctly set and Apache is working you have to simply write an html file and put it into the <em>/srv/http</em> folder. So you can use again nano</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano /srv/http/index.html
</span></span></code></pre></div><p>to write this simple html file.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#ff6ac1>html</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#ff6ac1>title</span>&gt;Hello World&lt;/<span style=color:#ff6ac1>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#ff6ac1>body</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#ff6ac1>h1</span>&gt;This is a test. Apache Web Server is working&lt;/<span style=color:#ff6ac1>h1</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#ff6ac1>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#ff6ac1>html</span>&gt;
</span></span></code></pre></div><p>Now open your broswer and go to http://localhost. If everything is up and running you should see a page like this:</p><figure><img src=/img/arch/apache.jpeg alt=image></figure><h2 id=install-php>Install PHP</h2><p>Now it is the time to install PHP with the following command.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pacman -S php php-cgi php-gd php-pgsql php-apache
</span></span></code></pre></div><p>As you can image, you need to configure some stuff. Open again with your preferred editor the httpd.conf file:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano /etc/httpd/conf/httpd.conf
</span></span></code></pre></div><p>comment (add a &lsquo;#&rsquo;) this line</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>LoadModule mpm_event_module modules/mod_mpm_event.so
</span></span></code></pre></div><p>and uncomment (remove the &lsquo;#&rsquo;) this one.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#78787e>#LoadModule mpm_prefork_module modules/mod_mpm_prefork.so</span>
</span></span></code></pre></div><p>Finally you have to add these lines at the bottom of the file.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>LoadModule php7_module modules/libphp7.so
</span></span><span style=display:flex><span>AddHandler php7-script php
</span></span><span style=display:flex><span>Include conf/extra/php7_module.conf
</span></span></code></pre></div><p>Now it&rsquo;s the time to configure the php.ini. Open the file</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano /etc/php/php.ini
</span></span></code></pre></div><p>and uncomment (remove the &lsquo;;&rsquo;) the following lines.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>;<span style=color:#ff5c57>extension</span><span style=color:#ff6ac1>=</span>mysqli.so
</span></span><span style=display:flex><span>;<span style=color:#ff5c57>extension</span><span style=color:#ff6ac1>=</span>gd
</span></span></code></pre></div><p>Now PHP (should be) is correctly set. To check if all is working, you can write a simple info page inside <em>srv/http/</em>. Open the editor,</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano /srv/http/info.php
</span></span></code></pre></div><p>write the following line</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#ff6ac1>&lt;?</span>php phpinfo(); <span style=color:#78787e>?&gt;</span><span style=color:#ff5c57>
</span></span></span></code></pre></div><p>and restart the httpd service.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl restart httpd
</span></span></code></pre></div><p>Now, if you open your broswer and you go to http://localhost/info.php, you should see a page like this:</p><figure><img src=/img/arch/php.jpeg alt=image></figure><h2 id=install-maria-db>Install Maria DB</h2><p>Now you have to install and create the database. You are going to install Maria DB, the implementation of MySQL for Arch Linux.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pacman -S mariadb libmariadbclient mariadb-clients
</span></span></code></pre></div><p>After the installation you have to set some base configuration with this command.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mysql_install_db --user<span style=color:#ff6ac1>=</span>mysql --basedir<span style=color:#ff6ac1>=</span>/usr --datadir<span style=color:#ff6ac1>=</span>/var/lib/mysql
</span></span></code></pre></div><p>As you guess, you need to start and enable the service.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>systemctl start mysqld
</span></span><span style=display:flex><span>systemctl <span style=color:#ff5c57>enable</span> mysqld
</span></span></code></pre></div><p>Before creating the database, you have to set the root password and some other configurations. You can do it with this command</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mysql_secure_installation
</span></span></code></pre></div><p>Finally now you can create your own database. Connect to the MySQL console with this command.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mysql -u root -p
</span></span></code></pre></div><p>After you type the password, you can start to create the database. Of course you can change the name of the database and the user.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff6ac1>CREATE</span> <span style=color:#ff6ac1>DATABASE</span> wordpress;
</span></span><span style=display:flex><span><span style=color:#ff6ac1>CREATE</span> <span style=color:#ff6ac1>USER</span> <span style=color:#5af78e>&#39;wpuser&#39;</span><span style=color:#ff6ac1>@</span><span style=color:#5af78e>&#39;localhost&#39;</span> IDENTIFIED <span style=color:#ff6ac1>BY</span> <span style=color:#5af78e>&#39;password&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#ff6ac1>GRANT</span> <span style=color:#ff6ac1>ALL</span> <span style=color:#ff6ac1>PRIVILEGES</span> <span style=color:#ff6ac1>ON</span> wordpress.<span style=color:#ff6ac1>*</span> <span style=color:#ff6ac1>TO</span> <span style=color:#5af78e>&#39;wpuser&#39;</span><span style=color:#ff6ac1>@</span><span style=color:#5af78e>&#39;localhost&#39;</span>;
</span></span><span style=display:flex><span>FLUSH <span style=color:#ff6ac1>PRIVILEGES</span>;
</span></span></code></pre></div><p>FINALLY it&rsquo;s time to install Wordpress inside the <em>/srv/http</em> folder.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ff5c57>cd</span> /srv/http
</span></span><span style=display:flex><span>wget https://wordpress.org/latest.tar.gz
</span></span><span style=display:flex><span>tar xvzf latest.tar.gz
</span></span><span style=display:flex><span><span style=color:#ff5c57>cd</span> wordpress
</span></span></code></pre></div><p>Now you have to change the ownership of the folder wordpress to the http group.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chown -R root:http /srv/http/wordpress
</span></span></code></pre></div><p>The last step is to create the Wordpress config file starting from the default one.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp wp-config-sample.php wp-config.php
</span></span></code></pre></div><p>All you have to do is opening the file</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano wp-config.php
</span></span></code></pre></div><p>and set the name of the database, the user and the password.</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#5af78e>/** The name of the database for WordPress */</span>
</span></span><span style=display:flex><span>define(<span style=color:#5af78e>&#39;DB_NAME&#39;</span>, <span style=color:#5af78e>&#39;wordpress&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#5af78e>/** MySQL database username */</span>
</span></span><span style=display:flex><span>define(<span style=color:#5af78e>&#39;DB_USER&#39;</span>, <span style=color:#5af78e>&#39;wpuser&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#5af78e>/** MySQL database password */</span>
</span></span><span style=display:flex><span>define(<span style=color:#5af78e>&#39;DB_PASSWORD&#39;</span>, <span style=color:#5af78e>&#39;password&#39;</span>);
</span></span></code></pre></div><p>Now everything is done. To check if it is true, open the broswer and go to http://localhost/wordpress and you should see a page like this.</p><figure><img src=/img/arch/wordpress.jpeg alt=image></figure><p>Now you can go through the classic setup of Wordpress. Enjoy it!</p></section><div class=article-footer><div class=body>To stay up to date with my writing and my projects, follow me on <a href=https://androiddev.social/@marcogom target=_blank>Mastodon</a> or <a href=https://twitter.com/marcoGomier target=_blank>Twitter</a>. If you have any questions, feel free to reach me out!</div></div></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.marcogomiero.com>Marco Gomiero</a></span></footer><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-69FZ1TLE7E","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>